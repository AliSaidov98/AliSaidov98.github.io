//1.2.3 + enable log errors

var _0xbae8a = _0x4592; (function (_0x80ddf0, _0x3300ec) { var _0x407fdc = _0x4592, _0x42850f = _0x80ddf0(); while (!![]) { try { var _0x3b48fe = parseInt(_0x407fdc(0x29d)) / 0x1 * (parseInt(_0x407fdc(0x313)) / 0x2) + -parseInt(_0x407fdc(0x1ed)) / 0x3 * (parseInt(_0x407fdc(0x2b9)) / 0x4) + parseInt(_0x407fdc(0x19b)) / 0x5 * (-parseInt(_0x407fdc(0x21b)) / 0x6) + -parseInt(_0x407fdc(0x30f)) / 0x7 * (parseInt(_0x407fdc(0x257)) / 0x8) + parseInt(_0x407fdc(0x280)) / 0x9 * (parseInt(_0x407fdc(0x2c9)) / 0xa) + -parseInt(_0x407fdc(0x25f)) / 0xb * (-parseInt(_0x407fdc(0x2f1)) / 0xc) + -parseInt(_0x407fdc(0x1a8)) / 0xd * (-parseInt(_0x407fdc(0x1ee)) / 0xe); if (_0x3b48fe === _0x3300ec) break; else _0x42850f['push'](_0x42850f['shift']()); } catch (_0x93a2de) { _0x42850f['push'](_0x42850f['shift']()); } } }(_0x223e, 0xca0f4)); function _0x4592(_0x17124d, _0x5d3646) { var _0x223e9e = _0x223e(); return _0x4592 = function (_0x4592e9, _0x7a3bdb) { _0x4592e9 = _0x4592e9 - 0x18b; var _0x43ba6d = _0x223e9e[_0x4592e9]; return _0x43ba6d; }, _0x4592(_0x17124d, _0x5d3646); } var script = document[_0xbae8a(0x19d)](_0xbae8a(0x2e2)); function _0x223e() { var _0x3068ef = ['CANVAS', 'refineMatches', 'lastUpdateTime', '\x20=\x20', 'filterNoise\x20->\x20poseRaw', 'rows', 'bestCoverage', 'slider', 'LAST_N1', 'innerWidth', 'set', 'valid', 'stopSmoothMode', '1PayFuf', 'lastPose', 'DETECT_INTERVAL', 'H_MATCH_COUNT_DETECT_ROI', 'KALMAN_POSE_POS_FACTOR', 'getUserMedia', 'initWebcamSettings', 'lastj', 'detector2', '100vw', 'round', 'getImageData', 'resize', 'INTER_LINEAR', 'pause', '#0008', 'WEBCAM_SETTINGS', 'marginBottom', 'getHomography', 'CV_8UC1', 'init\x20webcam\x20settings', 'bleed\x20horizontal', 'style', 'ORB', 'kpSharp', 'length', 'video.play', 'table', '94172ydNPfk', 'opencv.js', 'innerHTML', 'debugShow', 'video\x20resolution', 'absolute', 'setFramerate', 'KeyPointVector', 'startWebcam', 'sharpen', 'unityTargetFound', 'STABLE_POSE_DELTA_ROT', 'LAST_S1', 'projectPoints', 'type', 'H_MATCH_COUNT_DETECT', '802780NLbFmf', 'width', 'distance', 'imread', 'unityInstance', 'line', 'KalmanFilter', 'fillConvexPoly', 'LAST_K2', 'delete', 'pauseCamera', 'SOLVEPNP_ITERATIVE', 'tvec', 'push_back', 'MAX_AREA', 'tracker\x20resolution', 'Smoooth\x20Threshold\x20(Pos)', 'imageTargets', 'meas', 'atan', 'setQOS', 'lastDetectTime', 'setPoseFactors', 'videoHeight', 'setNoise7x7', 'script', 'keys', 'firstChild', 'drawKeypoints', 'detector', 'desSharp', 'TRACK_TARGET_MATCH_COUNT', 'setMeasNoise', 'debugImages', 'STABLE_POSE_DELTA_POS', 'debugSliders', 'canvas', 'getROI', 'addEventListener', 'unityUpdatePose', '9636oBhtfp', 'KALMAN_MEAS_NOISE_ROT', 'correctKalman', 'showChooseCam', 'tracked', 'idealMatches', 'remove', 'sqrt', 'findHomography', 'inv', 'lastw', '240px', 'lastRefineMatchesTime', 'ASPECT_RATIO', 'drawImage', 'BFMatcher', 'filterNoise', 'LAST_FRAMERATE', 'splice', 'STABLE_POSE_ROT_FACTOR', 'NORM_HAMMING', 'getBoundingClientRect', 'getCorners', 'rotMat', 'checkAvailableCams', 'innerHeight', 'warpKeypoints', 'resetKalman', 'src', 'CV_32F', '18515dIUsZT', 'unity-canvas', 'VALID_POSE_DELTA_ROT', 'cvtColor', '571062vhyVkF', 'marginRight', 'KALMAN_POSE_ROT_FACTOR', 'state', 'KALMAN_PROC_NOISE_ACC', 'tracker', 'autoplay', 'matchTemplate', 'KALMAN_PROC_NOISE_ROT', 'Mat', 'homography', 'data32F', 'TRACK_IMPROVE_MATCHES_DELAY', 'value', 'Point', 'range', 'CV_8UC4', 'detectROI', 'play', '3355JnAVhE', 'DMatchVector', 'createElement', 'initKalman', 'labelVal', 'video', 'position', 'STABLE_POSE_POS_FACTOR', 'translate(-50%,-50%)', 'videoWidth', 'Tracker', 'measurementNoiseCov', 'CAM_DIST_MAT', '13qzFKUe', 'unpauseCamera', 'KALMAN_PROC_NOISE_VEL', 'LAST_POSE_IS_STABLE', 'srcObject', 'appendChild', 'Stable\x20Threshold\x20(Pos)', 'portrait', 'clearRect', 'setAttribute', 'Rodrigues', 'getMesNoise', 'setKalmanTransition', 'setTrackerSettings', '100vh', 'FOV', 'createTextNode', 'onchange', 'now', 'init\x20settings', 'warp', 'video:\x20', 'transitionMatrix', 'uncropKeypoints', 'perspectiveTransform', 'matches', 'debugMatches', 'isPoseValid', 'all\x20targets\x20loaded', 'label', 'LAST_K1', 'NORM_L2', 'Smoooth\x20Strength\x20(Rot)', 'SetCameraFov', 'VALID_POSE_DELTA_POS', 'unityTargetLost', 'max', 'createSlider', 'randomIntFromInterval', 'height', 'TRACKER_NAME', 'debugHide', 'setNoise21x21', 'OnTrack', 'trackedCount', 'CV_32SC2', 'lasti', 'statePost', 'DEBUG_CHOOSE_CAM', 'FRAMERATE', 'ENABLE_NOISE_FILTER', 'FEATURE_COUNT', 'Stable\x20Threshold\x20(Rot)', 'detectIndex', 'hasPrediction', 'H_REPROJ_THRESH', 'debugImageTarget', 'deletePatches', 'videoinput', 'includes', '-100', 'extractor', 'indexOf', 'TRACK_WINDOW_SIZE_QOS', 'trainIdx', 'des', 'H_MATCH_COUNT_TRACK', 'button', 'onload', '48hJWjwY', '13026972FlxuoY', 'Rect', 'DMatchVectorVector', 'getElementById', 'queryIdx', 'VALID_POSE_DELTA_ROT_QOS', 'forEach', 'LAST_TRACK_TARGET_MATCH_COUNT', 'matchPatches', 'SHARPEN_IMAGE', 'getPose', 'loadTargets', 'select', 'COLOR_GRAY2RGB', 'videoBackground', 'SIFT', 'CANVAS_HEIGHT', 'body', '\x20to\x20', '40px', 'compute', 'statePre', 'gray', 'floor', 'get', 'size', 'predict', 'unityTargetFound\x20', 'TRACK_WINDOW_SIZE', 'WARP_INVERSE_MAP', 'startSmoothMode', 'debugIds', 'unitySetFov', 'getPatches', 'start\x20smooth\x20mode', 'tracked\x20', 'min', 'init\x20camera\x20matrix', '50vw', 'untrack', 'KALMAN_PROC_NOISE_POS', 'rectangle', 'debugKps', 'untracked', 'roi', '5802Qhtumb', 'kind', 'enumerateDevices', 'matFromArray', 'backCams', 'circle', 'init\x20imagetargets', 'ceil', 'lastk', 'DETECT_ROI_CENTER_SCALE', 'MAX_PIXELS', 'MATCH_DISTANCE_DETECT_ROI', 'matcher', 'warpMatches', 'cameraPaused', 'untracked\x20', 'debugLoad', 'white', 'log', 'kalman', 'playsinline', 'input', 'copyTo', 'COLOR_RGBA2GRAY', 'MATCH_DISTANCE_DETECT', 'minMaxLoc', 'imagetarget', 'match', 'TRACK_PATCH_SIZE', 'debugSave', 'detectCompute', 'KALMAN_DELTA_POS', 'QOS', 'KALMAN_MEAS_NOISE_POS', 'OnTrackingLost', 'data', 'startWebcamDiv', 'CAM_MAT', 'correct', 'stopTracker', 'errorCovPre', 'setTransform', 'CTX', 'cols', 'STABLE_WINDOW_SIZE', 'STABLE_PATCH_SIZE', 'MAX_SIMULTANEOUS_TRACK', 'OnTrackingFound', 'predictKalman', 'detect', '50vh', 'KALMAN_PROC_NOISE_RACC', 'VALID_POSE_DELTA_POS_QOS', 'split', 'track', 'landscape', 'warpPerspective', 'VIDEO', 'SendMessage', 'color', '2184bAnSvf', 'LAST_S2', 'step', 'UPDATE_INTERVAL', 'set\x20fov=', 'STABLE_PATCH_SIZE_QOS', 'checkpose', 'querySelectorAll', '6523xwMwLJ', 'CV_32FC2', 'transform', 'drawMatches', 'makeGray', 'getAttribute', 'insertBefore', 'background', 'gemm', 'knnMatch', 'zIndex', 'TRACK_PATCH_SIZE_QOS', 'onloadedmetadata', 'patch', 'cv\x20initialized', 'onclick', 'Tracked\x20Points', 'top', 'coverage', 'debugDelete', 'deviceId', 'debugChooseCam', 'GaussianBlur', 'Camera\x20', 'LAST_N2', 'set\x20', 'refinedMatches', 'assign', 'pow', 'KALMAN_PROC_NOISE_RVEL', 'isStarted', 'getContext', 'setPoseFactorsInternal', '99lrNYKt', 'dot', 'facing\x20front', 'muted', 'getPoseFactors', 'DETECT_ROI_CENTER_SIDE', 'left', 'STABLE_WINDOW_SIZE_QOS', 'processNoiseCov', 'KALMAN_DELTA_ROT', 'push', 'update', 'solvePnP', 'Scalar', 'CANVAS_WIDTH', 'Refresh']; _0x223e = function () { return _0x3068ef; }; return _0x223e(); } script[_0xbae8a(0x1ec)] = function () { cv['then'](_0x1bb741 => { var _0x40dd3e = _0x4592; console[_0x40dd3e(0x22d)](_0x40dd3e(0x26d)), window['cv'] = _0x1bb741, window['tracker'] = new ImageTracker(), window[_0x40dd3e(0x2ef)](_0x40dd3e(0x2a9), window[_0x40dd3e(0x18d)][_0x40dd3e(0x2a9)], !![]); }); }, script[_0xbae8a(0x30d)] = _0xbae8a(0x2ba), document['body'][_0xbae8a(0x1ad)](script); class ImageTracker { constructor() { var _0x48eb41 = _0xbae8a; console[_0x48eb41(0x22d)](_0x48eb41(0x1bb)), this['QOS'] = 0x1, this[_0x48eb41(0x1d0)] = _0x48eb41(0x1a5), this[_0x48eb41(0x1d9)] = 0x1e, this['MAX_PIXELS_QOS'] = [0x12c, 0x1c2, 0x258], this[_0x48eb41(0x2d7)] = 0x9c40, this[_0x48eb41(0x1f7)] = !![], this[_0x48eb41(0x1d8)] = ![], this[_0x48eb41(0x29f)] = 0xc8, this[_0x48eb41(0x285)] = 0x96, this[_0x48eb41(0x224)] = 0.5, this[_0x48eb41(0x226)] = 0.8, this[_0x48eb41(0x2a0)] = 0x5, this[_0x48eb41(0x233)] = 0.6, this[_0x48eb41(0x2c8)] = 0xa, this['MATCH_DISTANCE_TRACK'] = 0.8, this[_0x48eb41(0x1ea)] = 0xa, this['MAX_SIMULTANEOUS_TRACK'] = 0x1, this[_0x48eb41(0x1df)] = 0xa, this[_0x48eb41(0x26a)] = [0xd, 0xf, 0x15], this[_0x48eb41(0x1e7)] = [0x24, 0x30, 0x40], this[_0x48eb41(0x25c)] = [0xd, 0xf, 0x13], this[_0x48eb41(0x287)] = [0x14, 0x18, 0x20], this['TRACK_IMPROVE_MATCHES'] = !![], this[_0x48eb41(0x2e8)] = 0x19, this[_0x48eb41(0x194)] = 0x3e8, this[_0x48eb41(0x2a1)] = 0.003, this[_0x48eb41(0x315)] = 0.004, this[_0x48eb41(0x1a2)] = 0.02, this[_0x48eb41(0x304)] = 0.01, this[_0x48eb41(0x24f)] = [0.03, 0.04, 0.05], this['VALID_POSE_DELTA_ROT_QOS'] = [0.75, 0.7, 0.65], this[_0x48eb41(0x1ab)] = ![], console[_0x48eb41(0x22d)]('init\x20features'), this[_0x48eb41(0x1db)] = 0x1f4, this[_0x48eb41(0x2e6)] = new cv[(_0x48eb41(0x1fd))](), this['extractor'] = new cv[(_0x48eb41(0x1fd))](), this['matcher'] = new cv['BFMatcher'](cv[_0x48eb41(0x1c7)]), this[_0x48eb41(0x2a5)] = new cv['ORB'](this['FEATURE_COUNT']), this['extractor2'] = new cv[(_0x48eb41(0x2b4))](this[_0x48eb41(0x1db)]), this['matcher2'] = new cv[(_0x48eb41(0x300))](cv[_0x48eb41(0x305)]), console[_0x48eb41(0x22d)](_0x48eb41(0x221)), this[_0x48eb41(0x1f9)](() => { var _0x4bf621 = _0x48eb41; console['log'](_0x4bf621(0x1c4), this[_0x4bf621(0x2da)]); }); if (this['DEBUG_CHOOSE_CAM']) this[_0x48eb41(0x274)](); this[_0x48eb41(0x1da)] = !![], this['KALMAN_MEAS_NOISE_POS'] = 0.15, this[_0x48eb41(0x2f2)] = 0.15, this[_0x48eb41(0x216)] = 0.00001, this[_0x48eb41(0x1aa)] = 0x1, this[_0x48eb41(0x18c)] = 0x1, this[_0x48eb41(0x190)] = 0.00001, this[_0x48eb41(0x27c)] = 0x1, this['KALMAN_PROC_NOISE_RACC'] = 0x1, this[_0x48eb41(0x2dd)](this[_0x48eb41(0x23b)]), this[_0x48eb41(0x1d4)] = 0x0, this[_0x48eb41(0x2a3)](); } [_0xbae8a(0x2dd)](_0x3ff9aa) { var _0x14722d = _0xbae8a; this[_0x14722d(0x23b)] = 0x2, this[_0x14722d(0x225)] = this['MAX_PIXELS_QOS'][this[_0x14722d(0x23b)]], this[_0x14722d(0x237)] = this[_0x14722d(0x26a)][this[_0x14722d(0x23b)]], this[_0x14722d(0x20a)] = this[_0x14722d(0x1e7)][this[_0x14722d(0x23b)]], this[_0x14722d(0x1ca)] = this[_0x14722d(0x24f)][this[_0x14722d(0x23b)]], this[_0x14722d(0x311)] = this[_0x14722d(0x1f3)][this['QOS']], this[_0x14722d(0x27f)](), this[_0x14722d(0x248)] = this[_0x14722d(0x25c)][this[_0x14722d(0x23b)]], this[_0x14722d(0x247)] = this['STABLE_WINDOW_SIZE_QOS'][this['QOS']], window[_0x14722d(0x18d)] && tracker[_0x14722d(0x2a9)](); } ['setFramerate'](_0x47cfc4) { var _0x472abb = _0xbae8a; tracker[_0x472abb(0x1d9)] = _0x47cfc4, clearInterval(tracker[_0x472abb(0x25a)]), tracker[_0x472abb(0x25a)] = setInterval(tracker[_0x472abb(0x28b)], 0x1 / tracker[_0x472abb(0x1d9)] * 0x3e8, tracker[_0x472abb(0x254)], tracker[_0x472abb(0x290)], tracker[_0x472abb(0x245)]); } [_0xbae8a(0x284)]() { var _0x5d3766 = _0xbae8a; console[_0x5d3766(0x22d)]('(' + this[_0x5d3766(0x2a1)] + ',' + this[_0x5d3766(0x315)] + ',' + this[_0x5d3766(0x1a2)] + ',' + this[_0x5d3766(0x304)] + ')'); } [_0xbae8a(0x2df)](_0x2cb673, _0x441635, _0x4140be, _0x44c6fe) { var _0x242427 = _0xbae8a; this[_0x242427(0x2a1)] = _0x2cb673, this['KALMAN_POSE_ROT_FACTOR'] = _0x441635, this[_0x242427(0x1a2)] = _0x4140be, this['STABLE_POSE_ROT_FACTOR'] = _0x44c6fe, this[_0x242427(0x27f)](); } ['setPoseFactorsInternal']() { var _0x285bb4 = _0xbae8a; this['KALMAN_DELTA_POS'] = this[_0x285bb4(0x24f)][this['QOS']] * this[_0x285bb4(0x2a1)], this[_0x285bb4(0x289)] = 0x1 - (0x1 - this['VALID_POSE_DELTA_ROT_QOS'][this[_0x285bb4(0x23b)]]) * this[_0x285bb4(0x315)], this[_0x285bb4(0x2eb)] = this['VALID_POSE_DELTA_POS_QOS'][this[_0x285bb4(0x23b)]] * this[_0x285bb4(0x1a2)], this[_0x285bb4(0x2c4)] = 0x1 - (0x1 - this[_0x285bb4(0x1f3)][this[_0x285bb4(0x23b)]]) * this[_0x285bb4(0x304)]; } [_0xbae8a(0x20c)]() { var _0x542770 = _0xbae8a; console[_0x542770(0x22d)](_0x542770(0x210)), this[_0x542770(0x1c6)] = this['KALMAN_POSE_POS_FACTOR'], this[_0x542770(0x2d1)] = this[_0x542770(0x315)], this[_0x542770(0x2c5)] = this[_0x542770(0x1a2)], this[_0x542770(0x258)] = this[_0x542770(0x304)], this[_0x542770(0x2df)](0.075, 0.075, 0.02, 0.01), this[_0x542770(0x1f5)] = this[_0x542770(0x2e8)], this['TRACK_TARGET_MATCH_COUNT'] = 0xf, this['LAST_N1'] = this[_0x542770(0x23c)], this[_0x542770(0x277)] = this[_0x542770(0x2f2)], this[_0x542770(0x2e9)](1.5, 1.5), this[_0x542770(0x302)] = this['FRAMERATE']; } [_0xbae8a(0x29c)]() { var _0x5ac201 = _0xbae8a; console['log']('stop\x20smooth\x20mode'), this[_0x5ac201(0x2df)](this[_0x5ac201(0x1c6)], this[_0x5ac201(0x2d1)], this[_0x5ac201(0x2c5)], this[_0x5ac201(0x258)]), this['TRACK_TARGET_MATCH_COUNT'] = this[_0x5ac201(0x1f5)], this[_0x5ac201(0x2e9)](this[_0x5ac201(0x298)], this[_0x5ac201(0x277)]); } ['startTracker'](_0x17bb5a, _0x29c55f) { var _0x183655 = _0xbae8a; this['targetsInScene'] = _0x17bb5a[_0x183655(0x250)](','), this[_0x183655(0x27d)] = !![], this[_0x183655(0x1d0)] = _0x29c55f; } [_0xbae8a(0x242)]() { var _0xdc4d79 = _0xbae8a; this[_0xdc4d79(0x27d)] = ![], Object[_0xdc4d79(0x2e3)](this[_0xdc4d79(0x2da)][_0xdc4d79(0x2f5)])['forEach'](_0x3bf5c6 => { var _0x13575b = _0xdc4d79; this[_0x13575b(0x215)](_0x3bf5c6); }); } [_0xbae8a(0x2d3)]() { var _0x144daa = _0xbae8a; this[_0x144daa(0x229)] = !![], this[_0x144daa(0x254)][_0x144daa(0x2ab)](); } [_0xbae8a(0x1a9)]() { var _0x573ce0 = _0xbae8a; this[_0x573ce0(0x229)] = ![], this[_0x573ce0(0x254)][_0x573ce0(0x19a)](); } ['isImageTracked'](_0x4c56fe) { var _0x3e847e = _0xbae8a, _0x2dc884 = Object['keys'](this[_0x3e847e(0x2da)][_0x3e847e(0x2f5)]); return _0x2dc884[_0x3e847e(0x1e3)](_0x4c56fe); } [_0xbae8a(0x1b5)](_0x59324e) { var _0x293c7b = _0xbae8a; console[_0x293c7b(0x22d)](_0x59324e); var _0x388013 = JSON['parse'](_0x59324e); Object[_0x293c7b(0x2e3)](_0x388013)[_0x293c7b(0x1f4)](_0x3a9369 => { var _0x5dff3f = _0x293c7b; _0x3a9369 in this && this[_0x3a9369] != _0x388013[_0x3a9369] && (this[_0x3a9369] = _0x388013[_0x3a9369], console[_0x5dff3f(0x22d)](_0x5dff3f(0x278) + _0x3a9369 + _0x5dff3f(0x200) + _0x388013[_0x3a9369])); }), this[_0x293c7b(0x2dd)](this[_0x293c7b(0x23b)]), this[_0x293c7b(0x2bf)](this['FRAMERATE']); } ['debugImageTarget'](_0x3e07e8) { var _0x22b31e = _0xbae8a; !_0x3e07e8 && this[_0x22b31e(0x1d1)]('debugImageTarget'); var _0x19e83e = this[_0x22b31e(0x2da)][_0x22b31e(0x219)][_0x3e07e8]; _0x19e83e ? this[_0x22b31e(0x218)](_0x19e83e[_0x22b31e(0x204)], _0x19e83e['kp'], _0x22b31e(0x1e0)) : this[_0x22b31e(0x1d1)](_0x22b31e(0x1e0)); } async[_0xbae8a(0x309)]() { var _0x192e16 = _0xbae8a; let _0x4265ee = [], _0x315d42 = await navigator['mediaDevices'][_0x192e16(0x21d)](); return _0x315d42[_0x192e16(0x1f4)](_0x4a8d4f => { var _0x3997e6 = _0x192e16; _0x4a8d4f[_0x3997e6(0x21c)] === _0x3997e6(0x1e2) && !_0x4a8d4f['label']['includes'](_0x3997e6(0x282)) && _0x4265ee['push'](_0x4a8d4f); }), _0x4265ee; } async[_0xbae8a(0x2f4)](_0x322155) { var _0x134194 = _0xbae8a, _0x30dfb4 = document[_0x134194(0x19d)](_0x134194(0x1fa)); _0x30dfb4['id'] = _0x134194(0x274); var _0x40aeb6 = document[_0x134194(0x1f1)](_0x134194(0x23f)); _0x40aeb6[_0x134194(0x265)](_0x30dfb4, _0x40aeb6[_0x134194(0x2e4)]); var _0x1debde = 0x0; _0x322155 = _0x322155['reverse'](), _0x322155[_0x134194(0x1f4)](_0x8619ef => { var _0x328cc1 = _0x134194; const _0x576390 = document['createElement']('option'); _0x576390[_0x328cc1(0x195)] = _0x8619ef[_0x328cc1(0x273)]; let _0x286192 = _0x328cc1(0x276) + _0x1debde; _0x8619ef[_0x328cc1(0x1c5)] && (_0x286192 = _0x8619ef[_0x328cc1(0x1c5)]); const _0x3900ed = document[_0x328cc1(0x1b8)](_0x286192); _0x576390[_0x328cc1(0x1ad)](_0x3900ed), _0x30dfb4[_0x328cc1(0x1ad)](_0x576390), console[_0x328cc1(0x22d)](_0x8619ef), _0x1debde++; }); } async[_0xbae8a(0x2a3)]() { var _0xbe7e55 = _0xbae8a; console[_0xbe7e55(0x22d)](_0xbe7e55(0x2b1)), this[_0xbe7e55(0x2ad)] = { 'video': { 'facingMode': 'environment' }, 'audio': ![] }; let _0x28abc3 = await this['checkAvailableCams'](); tracker[_0xbe7e55(0x2f4)](_0x28abc3), tracker[_0xbe7e55(0x1d8)] = !![], console['log'](_0xbe7e55(0x21f), _0x28abc3); } async[_0xbae8a(0x2c1)]() { var _0x48c93a = _0xbae8a; if (this[_0x48c93a(0x1d8)]) { var _0x5186d1 = document[_0x48c93a(0x1f1)](_0x48c93a(0x274))[_0x48c93a(0x195)]; tracker['WEBCAM_SETTINGS'][_0x48c93a(0x1a0)][_0x48c93a(0x273)] = _0x5186d1, console[_0x48c93a(0x22d)](tracker[_0x48c93a(0x2ad)]); } var _0x22a61c = await navigator['mediaDevices'][_0x48c93a(0x2a2)](tracker[_0x48c93a(0x2ad)]); try { const _0x441aa1 = document['createElement'](_0x48c93a(0x1a0)); _0x441aa1['setAttribute'](_0x48c93a(0x283), ''), _0x441aa1['setAttribute'](_0x48c93a(0x18e), ''), _0x441aa1[_0x48c93a(0x1b1)](_0x48c93a(0x22f), ''), _0x441aa1[_0x48c93a(0x1ac)] = _0x22a61c, tracker['VIDEO'] = _0x441aa1, _0x441aa1['onloadedmetadata'] = async function (_0x4835ff) { var _0x21dcc4 = _0x48c93a; await _0x441aa1[_0x21dcc4(0x19a)](); try { const _0x7a07b4 = document[_0x21dcc4(0x19d)]('canvas'); document[_0x21dcc4(0x1ff)]['appendChild'](_0x7a07b4), _0x7a07b4['id'] = _0x21dcc4(0x1fc), console[_0x21dcc4(0x22d)](_0x21dcc4(0x26b)), tracker[_0x21dcc4(0x2a9)](); const _0x48bfe5 = _0x7a07b4['getContext']('2d'); tracker[_0x21dcc4(0x292)] = Date[_0x21dcc4(0x1ba)](), tracker[_0x21dcc4(0x2de)] = Date[_0x21dcc4(0x1ba)](), tracker['detectIndex'] = 0x0, tracker[_0x21dcc4(0x25a)] = setInterval(tracker[_0x21dcc4(0x28b)], 0x1 / tracker[_0x21dcc4(0x1d9)] * 0x3e8, _0x441aa1, _0x7a07b4, _0x48bfe5), tracker[_0x21dcc4(0x290)] = _0x7a07b4, tracker[_0x21dcc4(0x245)] = _0x48bfe5; } catch (_0x359f1f) { console['log'](_0x21dcc4(0x2b7), _0x359f1f); } }; } catch (_0x3ba759) { console[_0x48c93a(0x22d)](_0x48c93a(0x2a2), _0x3ba759); } } [_0xbae8a(0x2a9)]() { var _0x50e914 = _0xbae8a, _0x4c7096 = document[_0x50e914(0x1f1)](_0x50e914(0x1fc)), _0x57f144 = tracker[_0x50e914(0x254)]; if (!_0x4c7096 || !_0x57f144) return; _0x4c7096['width'] = _0x57f144[_0x50e914(0x1a4)], _0x4c7096['height'] = _0x57f144['videoHeight'], tracker[_0x50e914(0x2fe)] = _0x57f144[_0x50e914(0x1a4)] / _0x57f144[_0x50e914(0x2e0)]; tracker[_0x50e914(0x2fe)] > 0x1 ? (tracker[_0x50e914(0x28e)] = tracker[_0x50e914(0x225)], tracker[_0x50e914(0x1fe)] = Math[_0x50e914(0x205)](tracker[_0x50e914(0x28e)] / tracker[_0x50e914(0x2fe)]), console[_0x50e914(0x22d)](_0x50e914(0x252))) : (tracker[_0x50e914(0x1fe)] = tracker[_0x50e914(0x225)], tracker['CANVAS_WIDTH'] = Math[_0x50e914(0x205)](tracker[_0x50e914(0x1fe)] * tracker['ASPECT_RATIO']), console[_0x50e914(0x22d)](_0x50e914(0x1af))); console[_0x50e914(0x22d)](_0x50e914(0x2bd), _0x57f144[_0x50e914(0x1a4)], _0x57f144[_0x50e914(0x2e0)]), console['log']('canvas\x20resolution', _0x4c7096[_0x50e914(0x2ca)], _0x4c7096[_0x50e914(0x1cf)]), console[_0x50e914(0x22d)](_0x50e914(0x2d8), tracker[_0x50e914(0x28e)], tracker['CANVAS_HEIGHT']), console['log'](_0x50e914(0x213)); let _0x191491 = tracker[_0x50e914(0x28e)], _0x2800d5 = tracker['CANVAS_HEIGHT']; tracker[_0x50e914(0x240)] = cv[_0x50e914(0x21e)](0x3, 0x3, cv[_0x50e914(0x30e)], [_0x191491, 0x0, _0x191491 * 0.5, 0x0, _0x191491, _0x2800d5 * 0.5, 0x0, 0x0, 0x1]), tracker[_0x50e914(0x1a7)] = cv[_0x50e914(0x21e)](0x5, 0x1, cv[_0x50e914(0x30e)], [0x0, 0x0, 0x0, 0x0, 0x0]), console['log'](_0x50e914(0x240), tracker[_0x50e914(0x240)]['data32F']); var _0x2a68fd = 0x1, _0x83f2b8 = window[_0x50e914(0x299)] / window[_0x50e914(0x30a)], _0x560166 = _0x4c7096['width'] / _0x4c7096[_0x50e914(0x1cf)]; _0x560166 > _0x83f2b8 ? (_0x4c7096[_0x50e914(0x2b3)][_0x50e914(0x1cf)] = _0x50e914(0x1b6), _0x4c7096[_0x50e914(0x2b3)]['width'] = 0x64 * _0x560166 + 'vh', _0x4c7096[_0x50e914(0x2b3)]['left'] = '50%', _0x4c7096[_0x50e914(0x2b3)][_0x50e914(0x270)] = _0x50e914(0x24d)) : (_0x4c7096[_0x50e914(0x2b3)]['width'] = _0x50e914(0x2a6), _0x4c7096[_0x50e914(0x2b3)]['height'] = 0x64 / _0x560166 + 'vw', _0x4c7096[_0x50e914(0x2b3)][_0x50e914(0x286)] = _0x50e914(0x214), _0x4c7096[_0x50e914(0x2b3)][_0x50e914(0x270)] = '50%'), _0x4c7096[_0x50e914(0x2b3)]['transform'] = _0x50e914(0x1a3), _0x4c7096[_0x50e914(0x2b3)][_0x50e914(0x1a1)] = _0x50e914(0x2be), _0x4c7096['style'][_0x50e914(0x269)] = _0x50e914(0x1e4), console[_0x50e914(0x22d)](_0x50e914(0x1bd) + _0x4c7096[_0x50e914(0x2ca)] + 'x' + _0x4c7096[_0x50e914(0x1cf)]), console[_0x50e914(0x22d)]('video:\x20' + _0x4c7096[_0x50e914(0x2b3)][_0x50e914(0x2ca)] + 'x' + _0x4c7096[_0x50e914(0x2b3)]['height']), tracker[_0x50e914(0x20e)](); } ['update'](_0x2ac2ff, _0x133e93, _0x223494) { var _0x5cd2fe = _0xbae8a; if (tracker[_0x5cd2fe(0x229)]) { console[_0x5cd2fe(0x22d)]('camera\x20paused'); return; } _0x223494[_0x5cd2fe(0x1b0)](0x0, 0x0, _0x133e93[_0x5cd2fe(0x2ca)], _0x133e93[_0x5cd2fe(0x1cf)]), _0x223494[_0x5cd2fe(0x2ff)](_0x2ac2ff, 0x0, 0x0), _0x223494[_0x5cd2fe(0x244)](0x1, 0x0, 0x0, 0x1, 0x0, 0x0); if (!tracker[_0x5cd2fe(0x27d)]) return; var _0xf2bb8 = cv[_0x5cd2fe(0x2cc)]('videoBackground'); cv[_0x5cd2fe(0x2a9)](_0xf2bb8, _0xf2bb8, { 'width': tracker[_0x5cd2fe(0x28e)], 'height': tracker[_0x5cd2fe(0x1fe)] }, 0x0, 0x0, cv[_0x5cd2fe(0x2aa)]); var _0x2db771 = tracker['makeGray'](_0xf2bb8); if (Date[_0x5cd2fe(0x1ba)]() - tracker[_0x5cd2fe(0x2de)] > tracker['DETECT_INTERVAL']) { var _0x3b08b7 = tracker[_0x5cd2fe(0x2c2)](_0x2db771); tracker[_0x5cd2fe(0x2de)] = Date['now'](); var _0x3d65b4 = tracker[_0x5cd2fe(0x199)](_0x3b08b7); if (_0x3d65b4) var _0x38757d = tracker['detect'](_0x2db771, _0x3d65b4['id'], _0x3d65b4[_0x5cd2fe(0x21a)]); _0x3b08b7[_0x5cd2fe(0x2d2)](); } tracker['track'](_0x2db771), _0x2db771[_0x5cd2fe(0x2d2)](), _0xf2bb8[_0x5cd2fe(0x2d2)](); var _0x7c3dd1 = (Date[_0x5cd2fe(0x1ba)]() - tracker[_0x5cd2fe(0x292)]) / 0x3e8; tracker['lastUpdateTime'] = Date[_0x5cd2fe(0x1ba)](); } [_0xbae8a(0x199)](_0x39c131) { var _0x2a7725 = _0xbae8a, _0x475a93 = Object[_0x2a7725(0x2e3)](this[_0x2a7725(0x2da)][_0x2a7725(0x219)]), _0x549251 = []; this['targetsInScene'][_0x2a7725(0x1f4)](_0x1f9e7c => { var _0x54e5ec = _0x2a7725, _0x45a6df = _0x475a93[_0x54e5ec(0x1e6)](_0x1f9e7c); _0x45a6df > -0x1 && _0x549251[_0x54e5ec(0x28a)](_0x1f9e7c); }); var _0x3bd70b = Object[_0x2a7725(0x2e3)](this['imageTargets']['tracked']); if (_0x549251['length'] > 0x0 && _0x3bd70b[_0x2a7725(0x2b6)] < this[_0x2a7725(0x249)]) { var _0x12c15b = this[_0x2a7725(0x285)], _0x3d3d31 = this[_0x2a7725(0x224)], _0x249f9e = new cv[(_0x2a7725(0x1ef))]((this[_0x2a7725(0x28e)] - _0x12c15b) / 0x2, (this['CANVAS_HEIGHT'] - _0x12c15b) / 0x2, _0x12c15b, _0x12c15b), _0x4213ee = _0x39c131[_0x2a7725(0x21a)](_0x249f9e); cv['resize'](_0x4213ee, _0x4213ee, { 'width': _0x12c15b * _0x3d3d31, 'height': _0x12c15b * _0x3d3d31 }, 0x0, 0x0, cv['INTER_LINEAR']); var _0x2268df = this[_0x2a7725(0x239)](_0x4213ee, this[_0x2a7725(0x2e6)], this['extractor']); this[_0x2a7725(0x1dd)]++, this[_0x2a7725(0x1dd)] %= _0x549251[_0x2a7725(0x2b6)]; var _0x2f55f0 = _0x549251[this[_0x2a7725(0x1dd)]], _0x2a6704 = this['imageTargets'][_0x2a7725(0x219)][_0x2f55f0]; if (_0x2a6704[_0x2a7725(0x21a)]) return { 'id': _0x2f55f0, 'roi': _0x2a6704[_0x2a7725(0x21a)] }; var _0x3bd025 = this[_0x2a7725(0x236)](_0x2268df[_0x2a7725(0x1e9)], _0x2a6704[_0x2a7725(0x2e7)], this[_0x2a7725(0x227)], this[_0x2a7725(0x226)]), _0x24f657 = _0x3bd025[_0x2a7725(0x1c1)]; _0x2268df['kp'] = this[_0x2a7725(0x1bf)](_0x2268df['kp'], _0x249f9e, _0x3d3d31); if (_0x24f657[_0x2a7725(0x207)]() > this['H_MATCH_COUNT_DETECT_ROI']) { var _0x2cf0e5 = this[_0x2a7725(0x2af)](_0x2268df['kp'], _0x2a6704[_0x2a7725(0x2b5)], _0x24f657, this['H_MATCH_COUNT_DETECT_ROI']); if (_0x2cf0e5) { var _0xf85d4c = _0x2cf0e5['h'], _0x5d9172 = _0x2cf0e5[_0x2a7725(0x279)], _0x2d7f38 = this['getCorners'](_0x2a6704[_0x2a7725(0x204)][_0x2a7725(0x246)] - 0x1, _0x2a6704[_0x2a7725(0x204)][_0x2a7725(0x295)] - 0x1, _0xf85d4c); _0xf85d4c[_0x2a7725(0x2d2)](), _0x5d9172[_0x2a7725(0x2d2)](); var _0xe918b7 = this[_0x2a7725(0x2ee)](_0x2d7f38); return _0x2d7f38[_0x2a7725(0x2d2)](), { 'id': _0x2f55f0, 'roi': _0xe918b7 }; } } _0x2268df['kp'][_0x2a7725(0x2d2)](), _0x2268df[_0x2a7725(0x1e9)][_0x2a7725(0x2d2)](), _0x24f657[_0x2a7725(0x2d2)](), _0x4213ee[_0x2a7725(0x2d2)](); } return; } [_0xbae8a(0x24c)](_0x115b23, _0x2e7082, _0x12f2ee) { var _0x74c823 = _0xbae8a, _0x52a8fb = _0x115b23[_0x74c823(0x21a)](_0x12f2ee), _0x2f65e6 = _0x12f2ee[_0x74c823(0x2ca)] * _0x12f2ee[_0x74c823(0x1cf)]; if (_0x2f65e6 > tracker[_0x74c823(0x2d7)]) var _0x479a9e = Math['sqrt'](tracker[_0x74c823(0x2d7)] / _0x2f65e6); else var _0x479a9e = 0x1; cv['resize'](_0x52a8fb, _0x52a8fb, { 'width': _0x12f2ee['width'] * _0x479a9e, 'height': _0x12f2ee[_0x74c823(0x1cf)] * _0x479a9e }, 0x0, 0x0, cv['INTER_LINEAR']); var _0x5ca068 = this[_0x74c823(0x239)](_0x52a8fb, this[_0x74c823(0x2e6)], this[_0x74c823(0x1e5)]); _0x5ca068['kp'] = this[_0x74c823(0x1bf)](_0x5ca068['kp'], _0x12f2ee, _0x479a9e); var _0x50b279 = this[_0x74c823(0x2da)][_0x74c823(0x219)][_0x2e7082], _0x1d2f75 = this[_0x74c823(0x236)](_0x5ca068[_0x74c823(0x1e9)], _0x50b279[_0x74c823(0x1e9)], this[_0x74c823(0x227)], this[_0x74c823(0x233)]), _0x1b41f5 = _0x1d2f75[_0x74c823(0x1c1)]; if (_0x1b41f5[_0x74c823(0x207)]() > this[_0x74c823(0x2c8)]) { var _0x3cd4d6 = this[_0x74c823(0x2af)](_0x5ca068['kp'], _0x50b279['kp'], _0x1b41f5, this[_0x74c823(0x2a0)]); if (_0x3cd4d6) { var _0x3e9b8 = _0x3cd4d6['h'], _0x5275f6 = _0x3cd4d6[_0x74c823(0x279)], _0x383214 = this['getCorners'](_0x50b279[_0x74c823(0x204)]['cols'] - 0x1, _0x50b279['gray'][_0x74c823(0x295)] - 0x1, _0x3e9b8); return _0x50b279[_0x74c823(0x1c1)] = _0x5275f6, _0x50b279['homography'] = _0x3e9b8, this[_0x74c823(0x2da)][_0x74c823(0x2f5)][_0x2e7082] = {}, Object[_0x74c823(0x27a)](this[_0x74c823(0x2da)][_0x74c823(0x2f5)][_0x2e7082], _0x50b279), delete this[_0x74c823(0x2da)][_0x74c823(0x219)][_0x2e7082], _0x383214[_0x74c823(0x2d2)](), console[_0x74c823(0x22d)](_0x74c823(0x211) + _0x2e7082, this['imageTargets']), this['unityTargetFound'](_0x2e7082), this[_0x74c823(0x1d4)]++, this[_0x74c823(0x1d4)] == 0x2 && this[_0x74c823(0x20c)](), _0x50b279; } } else { if (_0x50b279[_0x74c823(0x21a)]) delete _0x50b279[_0x74c823(0x21a)]; } _0x5ca068['kp']['delete'](), _0x5ca068[_0x74c823(0x1e9)][_0x74c823(0x2d2)](), _0x1b41f5[_0x74c823(0x2d2)](), _0x52a8fb['delete'](); return; } [_0xbae8a(0x251)](_0x44081d) { var _0x4bc231 = _0xbae8a, _0x17b67f = Object['keys'](this[_0x4bc231(0x2da)]['tracked']), _0x399472 = Object[_0x4bc231(0x2e3)](this[_0x4bc231(0x2da)]['tracked']); _0x17b67f[_0x4bc231(0x2b6)] > 0x0 && (_0x17b67f['forEach'](_0x6a1272 => { var _0x3e2e11 = _0x4bc231, _0x38c572 = ![], _0x415837 = this[_0x3e2e11(0x2da)][_0x3e2e11(0x2f5)][_0x6a1272]; tracker['TRACK_IMPROVE_MATCHES'] && _0x415837[_0x3e2e11(0x1c1)]['size']() < _0x415837['kp'][_0x3e2e11(0x207)]() && tracker[_0x3e2e11(0x291)](_0x44081d, _0x415837); var _0x5c25f7 = 0x1; if (_0x415837[_0x3e2e11(0x29e)]) { var _0x34baa5 = _0x415837[_0x3e2e11(0x29e)]['tvec'][_0x3e2e11(0x193)][0x2], _0xebac17 = 0.1, _0x233f69 = 0x3, _0x3c87bb = 0.75, _0x3b1bf6 = 0x3; _0x5c25f7 = _0x3b1bf6 - (_0x34baa5 - _0xebac17) / (_0x233f69 - _0xebac17) * (_0x3b1bf6 - _0x3c87bb), _0x5c25f7 = Math[_0x3e2e11(0x212)](Math[_0x3e2e11(0x1cc)](_0x5c25f7, _0x3c87bb), _0x3b1bf6); } var _0x1d48c8 = tracker[_0x3e2e11(0x1bc)](_0x415837[_0x3e2e11(0x204)], _0x415837[_0x3e2e11(0x192)]), _0x3e5531 = tracker[_0x3e2e11(0x228)](_0x415837['kp'], _0x415837[_0x3e2e11(0x1c1)], _0x415837['homography'], _0x5c25f7), _0x3dc838 = _0x3e5531['kp'], _0x186343 = _0x3e5531[_0x3e2e11(0x1c1)], _0x115343 = tracker[_0x3e2e11(0x20f)](_0x1d48c8, _0x3dc838, _0x5c25f7), _0x8e24b = tracker['matchPatches'](_0x44081d, _0x115343, _0x5c25f7); tracker[_0x3e2e11(0x1e1)](_0x115343), _0x1d48c8[_0x3e2e11(0x2d2)](); var _0x1257b0 = this['getHomography'](_0x8e24b, _0x415837['kp'], _0x186343, this[_0x3e2e11(0x1ea)]); if (_0x1257b0) { var _0xe01e4f = _0x1257b0['h'], _0x2c8c6d = _0x1257b0[_0x3e2e11(0x279)]; _0x415837['matches'][_0x3e2e11(0x2d2)](), _0x415837[_0x3e2e11(0x1c1)] = _0x2c8c6d; var _0x2efb1c = this['getCorners'](_0x415837[_0x3e2e11(0x204)][_0x3e2e11(0x246)] - 0x1, _0x415837['gray'][_0x3e2e11(0x295)] - 0x1, _0xe01e4f), _0x205bf4 = this['getROI'](_0x2efb1c), _0x1738ed = tracker['getPose'](_0x415837[_0x3e2e11(0x204)][_0x3e2e11(0x246)], _0x415837[_0x3e2e11(0x204)][_0x3e2e11(0x295)], _0x2efb1c, _0x415837[_0x3e2e11(0x29e)]), _0x4ca7de = this[_0x3e2e11(0x1c3)](_0x1738ed, _0x6a1272); if (_0x4ca7de[_0x3e2e11(0x29b)]) { _0x38c572 = !![], _0x415837['homography'][_0x3e2e11(0x2d2)](), _0x415837[_0x3e2e11(0x192)] = _0xe01e4f, _0x415837[_0x3e2e11(0x21a)] = _0x205bf4; if (tracker[_0x3e2e11(0x1da)]) { if (_0x415837[_0x3e2e11(0x22e)][_0x3e2e11(0x1de)]) var _0x4b5cee = (Date[_0x3e2e11(0x1ba)]() - tracker['lastUpdateTime']) / 0x3e8, _0x52294d = tracker[_0x3e2e11(0x24b)](_0x6a1272, _0x4b5cee); tracker[_0x3e2e11(0x2f3)](_0x6a1272, _0x1738ed); var _0x35bf35 = this[_0x3e2e11(0x301)](_0x1738ed, _0x52294d); this[_0x3e2e11(0x2f0)](_0x6a1272, _0x35bf35), _0x52294d && _0x35bf35 == _0x1738ed && tracker[_0x3e2e11(0x30c)](_0x6a1272); } else this[_0x3e2e11(0x2f0)](_0x6a1272, _0x1738ed); } _0x2efb1c[_0x3e2e11(0x2d2)](); } _0x3dc838[_0x3e2e11(0x2d2)](), _0x186343[_0x3e2e11(0x2d2)](); if (!_0x38c572) { if (tracker['ENABLE_NOISE_FILTER']) tracker[_0x3e2e11(0x30c)](_0x6a1272); this['untrack'](_0x6a1272); } }), tracker[_0x4bc231(0x272)](_0x4bc231(0x1f6))); } [_0xbae8a(0x215)](_0x1197bc) { var _0x686e9a = _0xbae8a, _0x34f1fa = this['imageTargets'][_0x686e9a(0x2f5)][_0x1197bc]; delete _0x34f1fa[_0x686e9a(0x1c1)], _0x34f1fa['homography'][_0x686e9a(0x2d2)](), delete _0x34f1fa[_0x686e9a(0x192)], delete _0x34f1fa[_0x686e9a(0x29e)], this[_0x686e9a(0x2da)][_0x686e9a(0x219)][_0x1197bc] = {}, Object['assign'](this[_0x686e9a(0x2da)]['untracked'][_0x1197bc], _0x34f1fa), delete this[_0x686e9a(0x2da)][_0x686e9a(0x2f5)][_0x1197bc], this[_0x686e9a(0x1d4)]--, this['trackedCount'] == 0x1 && this[_0x686e9a(0x29c)](), console['log'](_0x686e9a(0x22a) + _0x1197bc, this[_0x686e9a(0x2da)]), this['unityTargetLost'](_0x1197bc); } ['loadTargets'](_0xf9942c) { var _0x2d45fc = _0xbae8a; this[_0x2d45fc(0x2da)] = {}, this['imageTargets'][_0x2d45fc(0x219)] = {}, this['imageTargets'][_0x2d45fc(0x2f5)] = {}; var _0x2413b8 = document[_0x2d45fc(0x25e)](_0x2d45fc(0x235)), _0x56bc26 = document['createElement'](_0x2d45fc(0x2ed)), _0x3d9b76 = _0x56bc26[_0x2d45fc(0x27e)]('2d'), _0x418131 = 0x0; _0x2413b8[_0x2d45fc(0x1f4)](_0x5d4ca6 => { var _0x170b6b = _0x2d45fc, _0x4e7530 = _0x5d4ca6[_0x170b6b(0x264)]('id'), _0x1e5131 = _0x5d4ca6[_0x170b6b(0x264)](_0x170b6b(0x30d)), _0x588f8f = new Image(); _0x588f8f[_0x170b6b(0x1ec)] = function () { var _0x3eb2fe = _0x170b6b; console[_0x3eb2fe(0x22d)]('loaded\x20' + _0x4e7530 + '\x20from\x20' + _0x1e5131); var _0x2f7670 = _0x588f8f[_0x3eb2fe(0x2ca)] * _0x588f8f[_0x3eb2fe(0x1cf)]; if (_0x2f7670 > tracker[_0x3eb2fe(0x2d7)]) var _0x2c77c4 = Math[_0x3eb2fe(0x2f8)](tracker[_0x3eb2fe(0x2d7)] / _0x2f7670); else var _0x2c77c4 = 0x1; _0x56bc26[_0x3eb2fe(0x2ca)] = _0x588f8f[_0x3eb2fe(0x2ca)] * _0x2c77c4, _0x56bc26[_0x3eb2fe(0x1cf)] = _0x588f8f[_0x3eb2fe(0x1cf)] * _0x2c77c4, _0x3d9b76['drawImage'](_0x588f8f, 0x0, 0x0, _0x588f8f['width'] * _0x2c77c4, _0x588f8f['height'] * _0x2c77c4); var _0x487921 = new cv[(_0x3eb2fe(0x191))](_0x56bc26[_0x3eb2fe(0x1cf)], _0x56bc26['width'], cv[_0x3eb2fe(0x198)]); _0x487921[_0x3eb2fe(0x23e)][_0x3eb2fe(0x29a)](_0x3d9b76[_0x3eb2fe(0x2a8)](0x0, 0x0, _0x56bc26['width'], _0x56bc26[_0x3eb2fe(0x1cf)])[_0x3eb2fe(0x23e)]); var _0x36a8cb = tracker[_0x3eb2fe(0x263)](_0x487921), _0xe65a70 = tracker[_0x3eb2fe(0x239)](_0x36a8cb, tracker[_0x3eb2fe(0x2e6)], tracker['extractor']), _0xa7388f = tracker[_0x3eb2fe(0x2c2)](_0x36a8cb), _0x238106 = tracker[_0x3eb2fe(0x239)](_0xa7388f, tracker[_0x3eb2fe(0x2e6)], tracker[_0x3eb2fe(0x1e5)]), _0x20df0b = {}; _0x20df0b[_0x3eb2fe(0x1e9)] = _0xe65a70[_0x3eb2fe(0x1e9)], _0x20df0b['kp'] = _0xe65a70['kp'], _0x20df0b['gray'] = _0x36a8cb, _0x20df0b['desSharp'] = _0x238106[_0x3eb2fe(0x1e9)], _0x20df0b['kpSharp'] = _0x238106['kp'], _0x20df0b['graySharp'] = _0xa7388f; var _0xdc705c = 0x1, _0x5a2c59 = 0x0, _0x1ff711 = 0x1, _0x8fbc4b = 0x0; for (var _0x3d2200 = 0x0; _0x3d2200 < _0xe65a70['kp'][_0x3eb2fe(0x207)](); _0x3d2200++) { var _0x3bbc70 = _0x36a8cb[_0x3eb2fe(0x207)]()[_0x3eb2fe(0x2ca)], _0x5aaae6 = _0x36a8cb[_0x3eb2fe(0x207)]()['height'], _0x2ef736 = _0xe65a70['kp'][_0x3eb2fe(0x206)](_0x3d2200)['pt']['x'] / _0x3bbc70, _0x5a96d6 = _0xe65a70['kp'][_0x3eb2fe(0x206)](_0x3d2200)['pt']['y'] / _0x5aaae6; if (_0x2ef736 < _0xdc705c) _0xdc705c = _0x2ef736; else { if (_0x2ef736 > _0x5a2c59) _0x5a2c59 = _0x2ef736; } if (_0x5a96d6 < _0x1ff711) _0x1ff711 = _0x5a96d6; else { if (_0x5a96d6 > _0x8fbc4b) _0x8fbc4b = _0x5a96d6; } } _0x20df0b[_0x3eb2fe(0x271)] = (_0x5a2c59 - _0xdc705c) * (_0x8fbc4b - _0x1ff711), _0x20df0b[_0x3eb2fe(0x2fd)] = Date['now'](), tracker['imageTargets'][_0x3eb2fe(0x219)][_0x4e7530] = _0x20df0b; if (tracker[_0x3eb2fe(0x1da)]) tracker[_0x3eb2fe(0x19e)](_0x4e7530); _0x418131++, _0x418131 == _0x2413b8['length'] && _0xf9942c(); }, _0x588f8f[_0x170b6b(0x30d)] = _0x1e5131; }); } [_0xbae8a(0x263)](_0x1061d6, _0x350b40 = ![]) { var _0x45f1aa = _0xbae8a, _0x2c1e2f = new cv[(_0x45f1aa(0x191))](); cv[_0x45f1aa(0x312)](_0x1061d6, _0x2c1e2f, cv[_0x45f1aa(0x232)], 0x0); if (_0x350b40) this[_0x45f1aa(0x2bc)](_0x2c1e2f, _0x45f1aa(0x263)); return _0x2c1e2f; } [_0xbae8a(0x2c2)](_0x46c244, _0x2f7cfd = ![]) { var _0x303af5 = _0xbae8a, _0xd41afb = new cv[(_0x303af5(0x191))](); cv[_0x303af5(0x275)](_0x46c244, _0xd41afb, new cv['Size'](0x0, 0x0), 0x3), cv['addWeighted'](_0x46c244, 0x4, _0xd41afb, -0x3, 0x0, _0xd41afb); if (_0x2f7cfd) this['debugShow'](dst2, _0x303af5(0x2c2)); return _0xd41afb; } ['detectCompute'](_0x2c843c, _0xa47978, _0xe8039c, _0x2c1656) { var _0x262f6e = _0xbae8a; let _0x14b120 = new cv['KeyPointVector'](), _0x3afe2e = new cv[(_0x262f6e(0x191))](); return _0xa47978[_0x262f6e(0x24c)](_0x2c843c, _0x14b120, new cv[(_0x262f6e(0x191))]()), _0xe8039c[_0x262f6e(0x202)](_0x2c843c, _0x14b120, _0x3afe2e), _0x2c1656 && (this[_0x262f6e(0x218)](_0x2c843c, _0x14b120, _0x262f6e(0x239)), _0x2c1656['delete']()), { 'kp': _0x14b120, 'des': _0x3afe2e }; } [_0xbae8a(0x236)](_0x12809d, _0x3be990, _0x1fc613, _0x4ad023, _0x1f8fef = ![], _0x5afdec, _0x500d31, _0x245553, _0x136d63) { var _0xe86044 = _0xbae8a; let _0x39c6df = new cv[(_0xe86044(0x19c))](), _0x1afe14 = new cv[(_0xe86044(0x1f0))](); _0x1fc613[_0xe86044(0x268)](_0x12809d, _0x3be990, _0x1afe14, 0x2); for (let _0x7fa689 = 0x0; _0x7fa689 < _0x1afe14[_0xe86044(0x207)](); ++_0x7fa689) { let _0x56faed = _0x1afe14[_0xe86044(0x206)](_0x7fa689), _0x2c459c = _0x56faed[_0xe86044(0x206)](0x0), _0x2e3bf3 = _0x56faed[_0xe86044(0x206)](0x1); _0x2c459c['distance'] < _0x2e3bf3[_0xe86044(0x2cb)] * _0x4ad023 && _0x39c6df[_0xe86044(0x2d6)](_0x2c459c); } return _0x1f8fef && this[_0xe86044(0x1c2)](_0x39c6df, _0x5afdec, _0x500d31, _0x245553, _0x136d63), { 'matches': _0x39c6df }; } [_0xbae8a(0x1c2)](_0x1e5d0c, _0x10e4bf, _0x59fe7e, _0x313533, _0x322d25, _0x14cf42 = 'debugMatches') { var _0xa84d12 = _0xbae8a, _0x25bc01 = new cv['Mat'](); let _0x1b325f = new cv[(_0xa84d12(0x28d))](0x0, 0xff, 0x0, 0xff); cv[_0xa84d12(0x262)](_0x10e4bf, _0x313533, _0x59fe7e, _0x322d25, _0x1e5d0c, _0x25bc01, _0x1b325f), this[_0xa84d12(0x2bc)](_0x25bc01, _0x14cf42), _0x25bc01['delete'](); } ['debugKps'](_0x9a5d23, _0x417131, _0x2e73d0 = _0xbae8a(0x218)) { var _0x1c0dce = _0xbae8a, _0x48324d = new cv[(_0x1c0dce(0x191))](), _0x538404 = new cv[(_0x1c0dce(0x28d))](0x0, 0xff, 0x0); cv[_0x1c0dce(0x2e5)](_0x9a5d23, _0x417131, _0x48324d, _0x538404), this[_0x1c0dce(0x2bc)](_0x48324d, _0x2e73d0), _0x48324d[_0x1c0dce(0x2d2)](); } ['getHomography'](_0x1670c3, _0x22da11, _0x363ed8, _0x4a3083, _0x3d70cc = ![], _0x2c2c9a, _0x5b6bd8) { var _0x9f03c3 = _0xbae8a; let _0x5a4ce7 = [], _0x32ab35 = [], _0x5d6d6c = _0x1670c3, _0x42c070 = _0x22da11; for (let _0x3605e4 = 0x0; _0x3605e4 < _0x363ed8[_0x9f03c3(0x207)](); _0x3605e4++) { _0x5a4ce7[_0x9f03c3(0x28a)](_0x5d6d6c[_0x9f03c3(0x206)](_0x363ed8[_0x9f03c3(0x206)](_0x3605e4)[_0x9f03c3(0x1f2)])['pt']['x']), _0x5a4ce7['push'](_0x5d6d6c[_0x9f03c3(0x206)](_0x363ed8[_0x9f03c3(0x206)](_0x3605e4)[_0x9f03c3(0x1f2)])['pt']['y']), _0x32ab35[_0x9f03c3(0x28a)](_0x42c070['get'](_0x363ed8['get'](_0x3605e4)[_0x9f03c3(0x1e8)])['pt']['x']), _0x32ab35[_0x9f03c3(0x28a)](_0x42c070[_0x9f03c3(0x206)](_0x363ed8['get'](_0x3605e4)[_0x9f03c3(0x1e8)])['pt']['y']); } if (_0x5a4ce7[_0x9f03c3(0x2b6)] / 0x2 >= _0x4a3083) { let _0x275e16 = cv['matFromArray'](_0x5a4ce7[_0x9f03c3(0x2b6)] / 0x2, 0x2, cv[_0x9f03c3(0x30e)], _0x5a4ce7), _0x220e97 = cv['matFromArray'](_0x32ab35[_0x9f03c3(0x2b6)] / 0x2, 0x2, cv[_0x9f03c3(0x30e)], _0x32ab35), _0x911d54 = new cv['Mat'](), _0x1f3ab1 = new cv['DMatchVector'](), _0x64e88f = cv[_0x9f03c3(0x2f9)](_0x275e16, _0x220e97, cv['RANSAC'], this[_0x9f03c3(0x1df)], _0x911d54, 0x7d0, 0.999); _0x275e16['delete'](), _0x220e97[_0x9f03c3(0x2d2)](); if (_0x64e88f['empty']()) return; var _0x1573e3 = 0x0; for (var _0x3071d4 = 0x0; _0x3071d4 < _0x363ed8[_0x9f03c3(0x207)](); _0x3071d4++) { if (_0x911d54[_0x9f03c3(0x23e)][_0x3071d4]) { if (_0x1f3ab1[_0x9f03c3(0x207)]() > this[_0x9f03c3(0x2e8)]) { if (this[_0x9f03c3(0x1ce)](0x0, 0x1) > 0x0) { var _0x349562 = this[_0x9f03c3(0x1ce)](0x0, this[_0x9f03c3(0x2e8)] - 0x1); _0x1f3ab1[_0x9f03c3(0x29a)](_0x349562, _0x363ed8['get'](_0x3071d4)); } } else _0x1f3ab1[_0x9f03c3(0x2d6)](_0x363ed8['get'](_0x3071d4)); } _0x1573e3++; } _0x911d54[_0x9f03c3(0x2d2)](); if (_0x3d70cc) { var _0x3d70cc = new cv['Mat'](); let _0x62c90 = new cv['Scalar'](0xff, 0xff, 0x0, 0xff); cv[_0x9f03c3(0x262)](_0x2c2c9a, _0x1670c3, _0x5b6bd8, _0x22da11, _0x1f3ab1, _0x3d70cc, _0x62c90), this['debugShow'](_0x3d70cc, _0x9f03c3(0x2af)), _0x3d70cc[_0x9f03c3(0x2d2)](); } return { 'h': _0x64e88f, 'refinedMatches': _0x1f3ab1 }; } return; } ['getCorners'](_0x500f4f, _0x3605da, _0x5f161e, _0x388975 = ![], _0x5a9182) { var _0x256f7b = _0xbae8a, _0xb6ba3a = [0x0, 0x0, _0x500f4f, 0x0, _0x500f4f, _0x3605da, 0x0, _0x3605da], _0x41884e = cv[_0x256f7b(0x21e)](_0xb6ba3a[_0x256f7b(0x2b6)] / 0x2, 0x1, cv[_0x256f7b(0x260)], _0xb6ba3a), _0x2442c3 = new cv[(_0x256f7b(0x191))](); cv[_0x256f7b(0x1c0)](_0x41884e, _0x2442c3, _0x5f161e[_0x256f7b(0x2fa)](0x0)); if (_0x388975) { var _0x517e84 = new cv[(_0x256f7b(0x191))](); cv[_0x256f7b(0x312)](_0x5a9182, _0x517e84, cv[_0x256f7b(0x1fb)], 0x0); var _0x3b4c9b = new cv[(_0x256f7b(0x28d))](0xff, 0xff, 0x0), _0x440975 = [new cv[(_0x256f7b(0x196))](_0x2442c3[_0x256f7b(0x193)][0x0], _0x2442c3[_0x256f7b(0x193)][0x1]), new cv[(_0x256f7b(0x196))](_0x2442c3['data32F'][0x2], _0x2442c3['data32F'][0x3]), new cv[(_0x256f7b(0x196))](_0x2442c3[_0x256f7b(0x193)][0x4], _0x2442c3[_0x256f7b(0x193)][0x5]), new cv[(_0x256f7b(0x196))](_0x2442c3[_0x256f7b(0x193)][0x6], _0x2442c3[_0x256f7b(0x193)][0x7])]; for (var _0x545818 = 0x0; _0x545818 < _0x440975[_0x256f7b(0x2b6)]; _0x545818++) { cv['line'](_0x517e84, _0x440975[_0x545818], _0x440975[(_0x545818 + 0x1) % _0x440975[_0x256f7b(0x2b6)]], _0x3b4c9b, 0x2); } tracker[_0x256f7b(0x2bc)](_0x517e84, _0x256f7b(0x307)), _0x517e84[_0x256f7b(0x2d2)](); } return _0x41884e['delete'](), _0x2442c3; } ['getROI'](_0x13f281, _0xddaefb) { var _0x2a75c8 = _0xbae8a; let _0x58fb2d = Math[_0x2a75c8(0x2a7)](Math[_0x2a75c8(0x212)](_0x13f281['data32F'][0x0], _0x13f281['data32F'][0x2], _0x13f281[_0x2a75c8(0x193)][0x4], _0x13f281[_0x2a75c8(0x193)][0x6])), _0x4d31da = Math[_0x2a75c8(0x2a7)](Math[_0x2a75c8(0x1cc)](_0x13f281[_0x2a75c8(0x193)][0x0], _0x13f281[_0x2a75c8(0x193)][0x2], _0x13f281[_0x2a75c8(0x193)][0x4], _0x13f281[_0x2a75c8(0x193)][0x6])), _0x2bf5a7 = Math[_0x2a75c8(0x2a7)](Math['min'](_0x13f281[_0x2a75c8(0x193)][0x1], _0x13f281[_0x2a75c8(0x193)][0x3], _0x13f281[_0x2a75c8(0x193)][0x5], _0x13f281['data32F'][0x7])), _0x4b0e6f = Math[_0x2a75c8(0x2a7)](Math[_0x2a75c8(0x1cc)](_0x13f281[_0x2a75c8(0x193)][0x1], _0x13f281[_0x2a75c8(0x193)][0x3], _0x13f281[_0x2a75c8(0x193)][0x5], _0x13f281['data32F'][0x7])); _0x58fb2d = _0x58fb2d < 0x0 ? 0x0 : _0x58fb2d, _0x2bf5a7 = _0x2bf5a7 < 0x0 ? 0x0 : _0x2bf5a7, _0x4d31da = _0x4d31da > this[_0x2a75c8(0x28e)] ? this[_0x2a75c8(0x28e)] : _0x4d31da, _0x4b0e6f = _0x4b0e6f > this[_0x2a75c8(0x1fe)] ? this['CANVAS_HEIGHT'] : _0x4b0e6f; var _0x2e2d92 = new cv[(_0x2a75c8(0x1ef))](_0x58fb2d, _0x2bf5a7, _0x4d31da - _0x58fb2d, _0x4b0e6f - _0x2bf5a7); if (_0xddaefb) { var _0xddaefb = new cv[(_0x2a75c8(0x191))]['zeros'](this[_0x2a75c8(0x1fe)], this[_0x2a75c8(0x28e)], cv[_0x2a75c8(0x2b0)]); let _0x3b8427 = new Uint32Array([_0x58fb2d, _0x2bf5a7, _0x4d31da, _0x2bf5a7, _0x4d31da, _0x4b0e6f, _0x58fb2d, _0x4b0e6f]), _0x1f56ce = cv[_0x2a75c8(0x21e)](0x4, 0x1, cv[_0x2a75c8(0x1d5)], _0x3b8427); cv[_0x2a75c8(0x2d0)](_0xddaefb, _0x1f56ce, new cv['Scalar'](0xff)), _0x1f56ce['delete'](), this[_0x2a75c8(0x2bc)](_0xddaefb, _0x2a75c8(0x2ee)), _0xddaefb['delete'](); } return _0x2e2d92; } [_0xbae8a(0x1bf)](_0x234781, _0xfff3d3, _0x25810a) { var _0x299bcf = _0xbae8a; for (var _0x21adb9 = 0x0; _0x21adb9 < _0x234781[_0x299bcf(0x207)](); _0x21adb9++) { var _0x55606e = _0x234781[_0x299bcf(0x206)](_0x21adb9); _0x55606e['pt']['x'] = _0x55606e['pt']['x'] / _0x25810a + _0xfff3d3['x'], _0x55606e['pt']['y'] = _0x55606e['pt']['y'] / _0x25810a + _0xfff3d3['y'], _0x234781[_0x299bcf(0x29a)](_0x21adb9, _0x55606e); } return _0x234781; } [_0xbae8a(0x1bc)](_0x24a1fa, _0x2baada, _0x464cbb) { var _0x380028 = _0xbae8a; let _0xfb77f1 = new cv['Mat'](), _0x25a445 = { 'width': this['CANVAS_WIDTH'], 'height': this['CANVAS_HEIGHT'] }; return cv[_0x380028(0x253)](_0x24a1fa, _0xfb77f1, _0x2baada, _0x25a445, cv[_0x380028(0x20b)]), _0x464cbb && this[_0x380028(0x2bc)](_0xfb77f1, 'warp'), _0xfb77f1; } ['warpMatches'](_0xda1409, _0x26a4a7, _0x5094a6, _0x5ea903, _0x358402, _0x421b2, _0xc1120f) { var _0x263a53 = _0xbae8a, _0xbf1eb2 = (this[_0x263a53(0x1ab)] ? this['STABLE_WINDOW_SIZE'] : this[_0x263a53(0x20a)]) * _0x5ea903, _0x3803e1 = new cv[(_0x263a53(0x2c0))](), _0x3b234c = new cv[(_0x263a53(0x19c))](), _0x104b43 = 0x0, _0x5217b3 = []; for (var _0x55d880 = 0x0; _0x55d880 < _0x26a4a7['size'](); _0x55d880++) { var _0x28457e = _0x26a4a7[_0x263a53(0x206)](_0x55d880), _0x3a4193 = _0xda1409['get'](_0x28457e[_0x263a53(0x1e8)])['pt']['x'], _0x436e20 = _0xda1409['get'](_0x28457e[_0x263a53(0x1e8)])['pt']['y']; _0x5217b3[_0x263a53(0x28a)](_0x3a4193), _0x5217b3['push'](_0x436e20); } var _0x5a8fd4 = cv[_0x263a53(0x21e)](_0x5217b3['length'] / 0x2, 0x1, cv[_0x263a53(0x260)], _0x5217b3), _0x36a22e = new cv[(_0x263a53(0x191))](); cv[_0x263a53(0x1c0)](_0x5a8fd4, _0x36a22e, _0x5094a6[_0x263a53(0x2fa)](0x0)); for (var _0x55d880 = 0x0; _0x55d880 < _0x36a22e[_0x263a53(0x193)]['length']; _0x55d880 += 0x2) { var _0x28457e = _0x26a4a7[_0x263a53(0x206)](_0x55d880 / 0x2), _0x4fedc7 = _0xda1409[_0x263a53(0x206)](_0x28457e['trainIdx']), _0x3a4193 = _0x36a22e[_0x263a53(0x193)][_0x55d880], _0x436e20 = _0x36a22e['data32F'][_0x55d880 + 0x1]; if (_0x3a4193 < _0xbf1eb2 / 0x2 || _0x3a4193 > this[_0x263a53(0x28e)] - _0xbf1eb2 / 0x2 || _0x436e20 < _0xbf1eb2 / 0x2 || _0x436e20 > this[_0x263a53(0x1fe)] - _0xbf1eb2 / 0x2) { _0x104b43++; continue; } _0x4fedc7['pt']['x'] = _0x3a4193, _0x4fedc7['pt']['y'] = _0x436e20, _0x3803e1[_0x263a53(0x2d6)](_0x4fedc7), _0x28457e[_0x263a53(0x1f2)] = _0x55d880 / 0x2 - _0x104b43, _0x3b234c['push_back'](_0x28457e); } _0x5a8fd4[_0x263a53(0x2d2)](), _0x36a22e[_0x263a53(0x2d2)](); if (_0x358402) { var _0x358402 = new cv[(_0x263a53(0x191))](), _0x1b9ac2 = new cv[(_0x263a53(0x28d))](0xff, 0x0, 0xff); cv[_0x263a53(0x262)](_0x421b2, _0x3803e1, _0xc1120f, _0xda1409, _0x3b234c, _0x358402, _0x1b9ac2), this['debugShow'](_0x358402, _0x263a53(0x30b)), _0x358402[_0x263a53(0x2d2)](); } return { 'kp': _0x3803e1, 'matches': _0x3b234c }; } [_0xbae8a(0x20f)](_0x2a6590, _0x40dd04, _0x289555, _0x56dce6) { var _0xc5ca7c = _0xbae8a; if (_0x56dce6) { var _0x1bf397 = new cv[(_0xc5ca7c(0x191))](); _0x2a6590[_0xc5ca7c(0x231)](_0x1bf397), cv['cvtColor'](_0x1bf397, _0x1bf397, cv[_0xc5ca7c(0x1fb)], 0x0); } var _0xad71e7 = (this[_0xc5ca7c(0x1ab)] ? this[_0xc5ca7c(0x248)] : this[_0xc5ca7c(0x237)]) * _0x289555, _0x5d52c8 = (this[_0xc5ca7c(0x1ab)] ? this[_0xc5ca7c(0x247)] : this[_0xc5ca7c(0x20a)]) * _0x289555, _0x1204ba = [], _0x2f1971 = 0x0; for (var _0x1a0ab5 = 0x0; _0x1a0ab5 < _0x40dd04[_0xc5ca7c(0x207)](); _0x1a0ab5++) { var _0x379fe5 = _0x40dd04[_0xc5ca7c(0x206)](_0x1a0ab5), _0x1a57a2 = _0x379fe5['pt']['x'], _0x3af07f = _0x379fe5['pt']['y']; if (_0x1a57a2 < _0x5d52c8 / 0x2 || _0x1a57a2 > _0x2a6590[_0xc5ca7c(0x207)]()[_0xc5ca7c(0x2ca)] - _0x5d52c8 / 0x2 || _0x3af07f < _0x5d52c8 / 0x2 || _0x3af07f > _0x2a6590[_0xc5ca7c(0x207)]()[_0xc5ca7c(0x1cf)] - _0x5d52c8 / 0x2) { _0x2f1971++; continue; } var _0x19b843 = Math[_0xc5ca7c(0x205)](_0xad71e7 / 0x2), _0x1cd299 = new cv['Mat'](), _0x1ab887 = new cv[(_0xc5ca7c(0x1ef))](_0x1a57a2 - _0x19b843, _0x3af07f - _0x19b843, _0xad71e7, _0xad71e7); _0x1cd299 = _0x2a6590['roi'](_0x1ab887), _0x1204ba[_0xc5ca7c(0x28a)]({ 'keypoint': _0x379fe5, 'patch': _0x1cd299 }), _0x56dce6 && cv[_0xc5ca7c(0x217)](_0x1bf397, new cv['Point'](_0x1ab887['x'], _0x1ab887['y']), new cv[(_0xc5ca7c(0x196))](_0x1ab887['x'] + _0x1ab887[_0xc5ca7c(0x2ca)], _0x1ab887['y'] + _0x1ab887[_0xc5ca7c(0x1cf)]), new cv[(_0xc5ca7c(0x28d))](0x0, 0xff, 0xff), 0x1); } return _0x56dce6 && (this[_0xc5ca7c(0x2bc)](_0x1bf397, _0xc5ca7c(0x20f)), _0x1bf397[_0xc5ca7c(0x2d2)]()), _0x1204ba; } [_0xbae8a(0x1e1)](_0x39373b) { _0x39373b['forEach'](_0x4b8dda => { var _0x5b9ec4 = _0x4592; _0x4b8dda[_0x5b9ec4(0x26c)][_0x5b9ec4(0x2d2)](); }); } ['matchPatches'](_0x22df6e, _0x2f2273, _0xd3f3ef, _0x7a433e) { var _0x9d76a4 = _0xbae8a, _0x40f8d3 = (this[_0x9d76a4(0x1ab)] ? this[_0x9d76a4(0x248)] : this['TRACK_PATCH_SIZE']) * _0xd3f3ef, _0x217e3e = (this['LAST_POSE_IS_STABLE'] ? this[_0x9d76a4(0x247)] : this[_0x9d76a4(0x20a)]) * _0xd3f3ef, _0x14d0f8 = new cv[(_0x9d76a4(0x2c0))](); if (_0x7a433e) { var _0x56d40d = _0x9d76a4(0x1f6), _0x4e2732 = this[_0x9d76a4(0x22b)](_0x56d40d); if (!_0x4e2732) { var _0x4e2732 = new cv[(_0x9d76a4(0x191))](); cv['cvtColor'](_0x22df6e, _0x4e2732, cv['COLOR_GRAY2RGB'], 0x0); } } return _0x2f2273[_0x9d76a4(0x1f4)](_0x42c808 => { var _0xe439b4 = _0x9d76a4, _0x35b42a = _0x42c808['keypoint'], _0x3bba93 = _0x35b42a['pt']['x'], _0x4fd124 = _0x35b42a['pt']['y'], _0x37b4ee = _0x42c808[_0xe439b4(0x26c)], _0x1b257a = Math[_0xe439b4(0x205)](_0x40f8d3 / 0x2), _0x487762 = new cv[(_0xe439b4(0x1ef))](_0x3bba93 - _0x1b257a, _0x4fd124 - _0x1b257a, _0x40f8d3, _0x40f8d3), _0x3df143 = new cv[(_0xe439b4(0x1ef))](_0x3bba93 - _0x217e3e / 0x2, _0x4fd124 - _0x217e3e / 0x2, _0x217e3e, _0x217e3e); _0x7a433e && (cv[_0xe439b4(0x217)](_0x4e2732, new cv[(_0xe439b4(0x196))](_0x487762['x'], _0x487762['y']), new cv[(_0xe439b4(0x196))](_0x487762['x'] + _0x487762[_0xe439b4(0x2ca)], _0x487762['y'] + _0x487762[_0xe439b4(0x1cf)]), new cv[(_0xe439b4(0x28d))](0xff, 0x0, 0x0), 0x1), cv[_0xe439b4(0x217)](_0x4e2732, new cv[(_0xe439b4(0x196))](_0x3df143['x'], _0x3df143['y']), new cv[(_0xe439b4(0x196))](_0x3df143['x'] + _0x3df143[_0xe439b4(0x2ca)], _0x3df143['y'] + _0x3df143[_0xe439b4(0x1cf)]), new cv[(_0xe439b4(0x28d))](0x0, 0x0, 0xff), 0x1)); var _0x1f854f = _0x22df6e['roi'](_0x3df143), _0x12ccbe = new cv['Mat'](); cv[_0xe439b4(0x18f)](_0x1f854f, _0x37b4ee, _0x12ccbe, cv['TM_CCORR_NORMED']); var _0x527adb = cv[_0xe439b4(0x234)](_0x12ccbe); _0x1f854f['delete'](), _0x12ccbe['delete'](); var _0x51cc3d = new cv[(_0xe439b4(0x196))](_0x3bba93 - _0x217e3e / 0x2 + _0x527adb['maxLoc']['x'], _0x4fd124 - _0x217e3e / 0x2 + _0x527adb['maxLoc']['y']), _0x51fdbe = new cv[(_0xe439b4(0x196))](_0x51cc3d['x'] + _0x40f8d3, _0x51cc3d['y'] + _0x40f8d3); _0x35b42a['pt']['x'] = _0x51cc3d['x'] + Math['ceil'](_0x40f8d3 / 0x2), _0x35b42a['pt']['y'] = _0x51cc3d['y'] + Math[_0xe439b4(0x222)](_0x40f8d3 / 0x2), _0x14d0f8[_0xe439b4(0x2d6)](_0x35b42a), _0x7a433e && cv[_0xe439b4(0x217)](_0x4e2732, _0x51cc3d, _0x51fdbe, new cv[(_0xe439b4(0x28d))](0xff, 0xff, 0x0), 0x1); }), _0x7a433e && (this[_0x9d76a4(0x2bc)](_0x4e2732, _0x56d40d), this[_0x9d76a4(0x238)](_0x4e2732, _0x56d40d)), _0x14d0f8; } [_0xbae8a(0x1f8)](_0x5be04a, _0x3d0943, _0x2d168e, _0x69affc = null, _0x4c112b = ![], _0x28a160) { var _0x3b0c58 = _0xbae8a; if (_0x4c112b) { var _0x35108e = new cv['Mat'](); cv[_0x3b0c58(0x312)](_0x28a160, _0x35108e, cv[_0x3b0c58(0x1fb)], 0x0); } var _0x1851f6 = Math[_0x3b0c58(0x1cc)](_0x5be04a, _0x3d0943); _0x5be04a = _0x5be04a / _0x1851f6 * 0.5, _0x3d0943 = _0x3d0943 / _0x1851f6 * 0.5; var _0xb1f233 = [-_0x5be04a, _0x3d0943, 0x0, _0x5be04a, _0x3d0943, 0x0, _0x5be04a, -_0x3d0943, 0x0, -_0x5be04a, -_0x3d0943, 0x0], _0x462ff1 = []; for (var _0x5ae7cd = 0x0; _0x5ae7cd < _0x2d168e[_0x3b0c58(0x193)][_0x3b0c58(0x2b6)]; _0x5ae7cd += 0x2) { _0x462ff1[_0x3b0c58(0x28a)](_0x2d168e[_0x3b0c58(0x193)][_0x5ae7cd]), _0x462ff1['push'](_0x2d168e[_0x3b0c58(0x193)][_0x5ae7cd + 0x1]), _0x4c112b && cv[_0x3b0c58(0x220)](_0x35108e, new cv[(_0x3b0c58(0x196))](_0x2d168e[_0x3b0c58(0x193)][_0x5ae7cd], _0x2d168e[_0x3b0c58(0x193)][_0x5ae7cd + 0x1]), 0x3, new cv[(_0x3b0c58(0x28d))](0xff, 0x0, 0x0), 0x3); } _0x462ff1 = cv[_0x3b0c58(0x21e)](_0x462ff1['length'] / 0x2, 0x2, cv[_0x3b0c58(0x30e)], _0x462ff1), _0xb1f233 = cv['matFromArray'](_0xb1f233[_0x3b0c58(0x2b6)] / 0x3, 0x3, cv['CV_32F'], _0xb1f233); var _0x5e825a = new cv['Mat'](0x3, 0x1, cv[_0x3b0c58(0x30e)]), _0x5761c7 = new cv['Mat'](0x3, 0x1, cv[_0x3b0c58(0x30e)]), _0x1af1f9 = ![]; if (_0x69affc) { _0x69affc[_0x3b0c58(0x2d5)][_0x3b0c58(0x231)](_0x5e825a); var _0x5761c7 = new cv[(_0x3b0c58(0x191))](0x3, 0x1, cv[_0x3b0c58(0x30e)]); cv[_0x3b0c58(0x1b2)](_0x69affc[_0x3b0c58(0x308)], _0x5761c7), _0x1af1f9 = !![]; } var _0x4e0f5d = cv[_0x3b0c58(0x28c)](_0xb1f233, _0x462ff1, this[_0x3b0c58(0x240)], this[_0x3b0c58(0x1a7)], _0x5761c7, _0x5e825a, _0x1af1f9, cv[_0x3b0c58(0x2d4)]), _0x3cd412 = new cv[(_0x3b0c58(0x191))](); cv[_0x3b0c58(0x1b2)](_0x5761c7, _0x3cd412); if (_0x4c112b) { var _0x1eaeb7 = [0x0, 0x0, 0x0, 0.25, 0x0, 0x0, 0x0, 0.25, 0x0, 0x0, 0x0, 0.25, -_0x5be04a, _0x3d0943, 0x0, _0x5be04a, _0x3d0943, 0x0, _0x5be04a, -_0x3d0943, 0x0, -_0x5be04a, -_0x3d0943, 0x0], _0x1eaeb7 = cv['matFromArray'](0x8, 0x3, cv['CV_32F'], _0x1eaeb7); cv[_0x3b0c58(0x2c6)](_0x1eaeb7, _0x5761c7, _0x5e825a, this[_0x3b0c58(0x240)], this['CAM_DIST_MAT'], _0x1eaeb7), cv['line'](_0x35108e, new cv[(_0x3b0c58(0x196))](_0x1eaeb7['data32F'][0x0], _0x1eaeb7[_0x3b0c58(0x193)][0x1]), new cv[(_0x3b0c58(0x196))](_0x1eaeb7['data32F'][0x2], _0x1eaeb7[_0x3b0c58(0x193)][0x3]), new cv[(_0x3b0c58(0x28d))](0xff, 0x0, 0x0), 0x2), cv[_0x3b0c58(0x2ce)](_0x35108e, new cv['Point'](_0x1eaeb7[_0x3b0c58(0x193)][0x0], _0x1eaeb7['data32F'][0x1]), new cv[(_0x3b0c58(0x196))](_0x1eaeb7[_0x3b0c58(0x193)][0x4], _0x1eaeb7[_0x3b0c58(0x193)][0x5]), new cv['Scalar'](0x0, 0xff, 0x0), 0x2), cv['line'](_0x35108e, new cv['Point'](_0x1eaeb7[_0x3b0c58(0x193)][0x0], _0x1eaeb7[_0x3b0c58(0x193)][0x1]), new cv['Point'](_0x1eaeb7['data32F'][0x6], _0x1eaeb7[_0x3b0c58(0x193)][0x7]), new cv['Scalar'](0x0, 0x0, 0xff), 0x2), cv[_0x3b0c58(0x2ce)](_0x35108e, new cv['Point'](_0x1eaeb7[_0x3b0c58(0x193)][0x8], _0x1eaeb7[_0x3b0c58(0x193)][0x9]), new cv[(_0x3b0c58(0x196))](_0x1eaeb7[_0x3b0c58(0x193)][0xa], _0x1eaeb7['data32F'][0xb]), new cv[(_0x3b0c58(0x28d))](0xff, 0x0, 0xff), 0x2), cv[_0x3b0c58(0x2ce)](_0x35108e, new cv[(_0x3b0c58(0x196))](_0x1eaeb7[_0x3b0c58(0x193)][0xa], _0x1eaeb7['data32F'][0xb]), new cv[(_0x3b0c58(0x196))](_0x1eaeb7['data32F'][0xc], _0x1eaeb7[_0x3b0c58(0x193)][0xd]), new cv[(_0x3b0c58(0x28d))](0xff, 0x0, 0xff), 0x2), cv[_0x3b0c58(0x2ce)](_0x35108e, new cv[(_0x3b0c58(0x196))](_0x1eaeb7[_0x3b0c58(0x193)][0xc], _0x1eaeb7[_0x3b0c58(0x193)][0xd]), new cv[(_0x3b0c58(0x196))](_0x1eaeb7['data32F'][0xe], _0x1eaeb7['data32F'][0xf]), new cv[(_0x3b0c58(0x28d))](0xff, 0x0, 0xff), 0x2), cv[_0x3b0c58(0x2ce)](_0x35108e, new cv[(_0x3b0c58(0x196))](_0x1eaeb7[_0x3b0c58(0x193)][0xe], _0x1eaeb7[_0x3b0c58(0x193)][0xf]), new cv[(_0x3b0c58(0x196))](_0x1eaeb7[_0x3b0c58(0x193)][0x8], _0x1eaeb7[_0x3b0c58(0x193)][0x9]), new cv[(_0x3b0c58(0x28d))](0xff, 0x0, 0xff), 0x2), _0x1eaeb7[_0x3b0c58(0x2d2)](), this[_0x3b0c58(0x2bc)](_0x35108e, 'getPose'), _0x35108e[_0x3b0c58(0x2d2)](); } return _0x462ff1[_0x3b0c58(0x2d2)](), _0xb1f233[_0x3b0c58(0x2d2)](), { 'rotMat': _0x3cd412, 'tvec': _0x5e825a }; } [_0xbae8a(0x1c3)](_0x46a5d2, _0x2647d9, _0x13f94d) { var _0x2574c6 = _0xbae8a, _0x495741 = this['imageTargets']['tracked'][_0x2647d9]; if (!_0x495741[_0x2574c6(0x29e)]) return _0x495741[_0x2574c6(0x29e)] = _0x46a5d2, { 'valid': !![], 'deltapos': 0x0, 'deltaup': 0x1, 'deltaforward': 0x1 }; var _0x4193ca = _0x495741[_0x2574c6(0x29e)]['tvec'], _0x562a6a = _0x46a5d2[_0x2574c6(0x2d5)], _0x5b0f9a = Math[_0x2574c6(0x27b)](_0x562a6a['data32F'][0x0] - _0x4193ca['data32F'][0x0], 0x2) + Math[_0x2574c6(0x27b)](_0x562a6a['data32F'][0x1] - _0x4193ca[_0x2574c6(0x193)][0x1], 0x2) + Math['pow'](_0x562a6a[_0x2574c6(0x193)][0x2] - _0x4193ca[_0x2574c6(0x193)][0x2], 0x2), _0x209068 = _0x495741[_0x2574c6(0x29e)]['rotMat'], _0x3feae3 = new cv[(_0x2574c6(0x191))](0x3, 0x1, cv[_0x2574c6(0x30e)]); _0x3feae3[_0x2574c6(0x193)][0x0] = _0x209068['data32F'][0x3], _0x3feae3[_0x2574c6(0x193)][0x1] = _0x209068['data32F'][0x4], _0x3feae3[_0x2574c6(0x193)][0x2] = _0x209068[_0x2574c6(0x193)][0x5]; var _0x1a9242 = new cv[(_0x2574c6(0x191))](0x3, 0x1, cv[_0x2574c6(0x30e)]); _0x1a9242['data32F'][0x0] = _0x46a5d2[_0x2574c6(0x308)][_0x2574c6(0x193)][0x3], _0x1a9242[_0x2574c6(0x193)][0x1] = _0x46a5d2[_0x2574c6(0x308)]['data32F'][0x4], _0x1a9242[_0x2574c6(0x193)][0x2] = _0x46a5d2[_0x2574c6(0x308)][_0x2574c6(0x193)][0x5]; var _0x1d3f16 = new cv[(_0x2574c6(0x191))](0x3, 0x1, cv[_0x2574c6(0x30e)]); _0x1d3f16['data32F'][0x0] = _0x209068['data32F'][0x6], _0x1d3f16[_0x2574c6(0x193)][0x1] = _0x209068[_0x2574c6(0x193)][0x7], _0x1d3f16['data32F'][0x2] = _0x209068[_0x2574c6(0x193)][0x8]; var _0x5c5089 = new cv[(_0x2574c6(0x191))](0x3, 0x1, cv['CV_32F']); _0x5c5089[_0x2574c6(0x193)][0x0] = _0x46a5d2[_0x2574c6(0x308)][_0x2574c6(0x193)][0x6], _0x5c5089['data32F'][0x1] = _0x46a5d2['rotMat'][_0x2574c6(0x193)][0x7], _0x5c5089[_0x2574c6(0x193)][0x2] = _0x46a5d2['rotMat']['data32F'][0x8]; var _0x1cac74 = _0x1a9242['dot'](_0x3feae3), _0xbb0a94 = _0x5c5089['dot'](_0x1d3f16); _0x3feae3['delete'](), _0x1a9242[_0x2574c6(0x2d2)](), _0x1d3f16[_0x2574c6(0x2d2)](), _0x5c5089[_0x2574c6(0x2d2)](); if (_0x13f94d) console[_0x2574c6(0x22d)](_0x2574c6(0x25d), _0x5b0f9a, _0x1cac74, _0xbb0a94); return _0x5b0f9a < this['VALID_POSE_DELTA_POS'] && _0x1cac74 > this['VALID_POSE_DELTA_ROT'] && _0xbb0a94 > this['VALID_POSE_DELTA_ROT'] ? (_0x495741[_0x2574c6(0x29e)][_0x2574c6(0x2d5)][_0x2574c6(0x2d2)](), _0x495741[_0x2574c6(0x29e)][_0x2574c6(0x308)][_0x2574c6(0x2d2)](), _0x495741[_0x2574c6(0x29e)] = _0x46a5d2, this[_0x2574c6(0x1ab)] = _0x5b0f9a < this[_0x2574c6(0x2eb)] && _0x1cac74 > this[_0x2574c6(0x2c4)] && _0xbb0a94 > this[_0x2574c6(0x2c4)], { 'valid': !![], 'deltapos': _0x5b0f9a, 'deltaup': _0x1cac74, 'deltaforward': _0xbb0a94 }) : { 'valid': ![], 'deltapos': _0x5b0f9a, 'deltaup': _0x1cac74, 'deltaforward': _0xbb0a94 }; } ['filterNoise'](_0x45c514, _0x420732, _0x432ec2) { var _0x56d817 = _0xbae8a; if (!_0x420732) return _0x45c514; var _0x3625ed = _0x45c514[_0x56d817(0x2d5)], _0x200b92 = _0x420732['tvec'], _0x1568b6 = Math['pow'](_0x3625ed[_0x56d817(0x193)][0x0] - _0x200b92[_0x56d817(0x193)][0x0], 0x2) + Math[_0x56d817(0x27b)](_0x3625ed['data32F'][0x1] - _0x200b92[_0x56d817(0x193)][0x1], 0x2) + Math['pow'](_0x3625ed[_0x56d817(0x193)][0x2] - _0x200b92['data32F'][0x2], 0x2), _0x482dbb = _0x420732[_0x56d817(0x308)], _0x55306c = new cv[(_0x56d817(0x191))](0x3, 0x1, cv[_0x56d817(0x30e)]); _0x55306c[_0x56d817(0x193)][0x0] = _0x482dbb[_0x56d817(0x193)][0x3], _0x55306c[_0x56d817(0x193)][0x1] = _0x482dbb[_0x56d817(0x193)][0x4], _0x55306c['data32F'][0x2] = _0x482dbb['data32F'][0x5]; var _0x3d31a4 = new cv[(_0x56d817(0x191))](0x3, 0x1, cv['CV_32F']); _0x3d31a4[_0x56d817(0x193)][0x0] = _0x45c514[_0x56d817(0x308)][_0x56d817(0x193)][0x3], _0x3d31a4[_0x56d817(0x193)][0x1] = _0x45c514['rotMat'][_0x56d817(0x193)][0x4], _0x3d31a4[_0x56d817(0x193)][0x2] = _0x45c514['rotMat'][_0x56d817(0x193)][0x5]; var _0x11f91c = new cv[(_0x56d817(0x191))](0x3, 0x1, cv[_0x56d817(0x30e)]); _0x11f91c['data32F'][0x0] = _0x482dbb['data32F'][0x6], _0x11f91c['data32F'][0x1] = _0x482dbb['data32F'][0x7], _0x11f91c[_0x56d817(0x193)][0x2] = _0x482dbb['data32F'][0x8]; var _0x432f29 = new cv[(_0x56d817(0x191))](0x3, 0x1, cv[_0x56d817(0x30e)]); _0x432f29[_0x56d817(0x193)][0x0] = _0x45c514[_0x56d817(0x308)][_0x56d817(0x193)][0x6], _0x432f29[_0x56d817(0x193)][0x1] = _0x45c514[_0x56d817(0x308)][_0x56d817(0x193)][0x7], _0x432f29['data32F'][0x2] = _0x45c514[_0x56d817(0x308)][_0x56d817(0x193)][0x8]; var _0x2f1c7d = _0x3d31a4[_0x56d817(0x281)](_0x55306c), _0x505a0a = _0x432f29['dot'](_0x11f91c); _0x55306c[_0x56d817(0x2d2)](), _0x3d31a4[_0x56d817(0x2d2)](), _0x11f91c[_0x56d817(0x2d2)](), _0x432f29[_0x56d817(0x2d2)](); if (_0x1568b6 < this[_0x56d817(0x23a)] && _0x2f1c7d > this['KALMAN_DELTA_ROT'] && _0x505a0a > this[_0x56d817(0x289)]) { if (_0x432ec2) console[_0x56d817(0x22d)]('filterNoise\x20->\x20poseKalman', _0x1568b6, _0x2f1c7d, _0x505a0a); return _0x420732; } else { if (_0x432ec2) console[_0x56d817(0x22d)](_0x56d817(0x294), _0x1568b6, _0x2f1c7d, _0x505a0a); return _0x45c514; } } [_0xbae8a(0x19e)](_0x47d7f4) { var _0x3d9346 = _0xbae8a, _0x38454b = this[_0x3d9346(0x2da)]['untracked'][_0x47d7f4]; _0x38454b[_0x3d9346(0x22e)] = {}, _0x38454b['kalman']['kf'] = new cv[(_0x3d9346(0x2cf))](0x15, 0x7, 0x0, cv[_0x3d9346(0x30e)]), _0x38454b['kalman'][_0x3d9346(0x18b)] = new cv[(_0x3d9346(0x191))](0x15, 0x1, cv['CV_32F']), _0x38454b['kalman'][_0x3d9346(0x2db)] = new cv[(_0x3d9346(0x191))](0x7, 0x1, cv[_0x3d9346(0x30e)]), this[_0x3d9346(0x1b4)](_0x38454b['kalman']['kf'], 0x1 / this[_0x3d9346(0x1d9)]), _0x38454b[_0x3d9346(0x22e)]['kf']['measurementMatrix'] = cv['matFromArray'](0x7, 0x15, cv['CV_32F'], [0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0]), this[_0x3d9346(0x1d2)](_0x38454b['kalman']['kf'][_0x3d9346(0x288)]), this[_0x3d9346(0x2e1)](_0x38454b[_0x3d9346(0x22e)]['kf'][_0x3d9346(0x1a6)]), _0x38454b['kalman']['kf'][_0x3d9346(0x203)]['delete'](), _0x38454b[_0x3d9346(0x22e)]['state'][_0x3d9346(0x231)](_0x38454b[_0x3d9346(0x22e)]['kf'][_0x3d9346(0x203)]), _0x38454b[_0x3d9346(0x22e)]['kf'][_0x3d9346(0x1d7)][_0x3d9346(0x2d2)](), _0x38454b['kalman'][_0x3d9346(0x18b)][_0x3d9346(0x231)](_0x38454b[_0x3d9346(0x22e)]['kf'][_0x3d9346(0x1d7)]), _0x38454b['kalman']['hasPrediction'] = ![]; } [_0xbae8a(0x30c)](_0x3c0652) { var _0x35c3bf = _0xbae8a, _0xc674b7 = this[_0x35c3bf(0x2da)][_0x35c3bf(0x2f5)][_0x3c0652]; this[_0x35c3bf(0x1d2)](_0xc674b7[_0x35c3bf(0x22e)]['kf'][_0x35c3bf(0x243)]), _0xc674b7[_0x35c3bf(0x22e)][_0x35c3bf(0x18b)][_0x35c3bf(0x2d2)](), _0xc674b7['kalman']['state'] = cv[_0x35c3bf(0x21e)](0x15, 0x1, cv[_0x35c3bf(0x30e)], [_0xc674b7[_0x35c3bf(0x22e)][_0x35c3bf(0x2db)][_0x35c3bf(0x193)][0x0], _0xc674b7[_0x35c3bf(0x22e)][_0x35c3bf(0x2db)][_0x35c3bf(0x193)][0x1], _0xc674b7[_0x35c3bf(0x22e)]['meas'][_0x35c3bf(0x193)][0x2], 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0xc674b7[_0x35c3bf(0x22e)]['meas'][_0x35c3bf(0x193)][0x3], _0xc674b7['kalman'][_0x35c3bf(0x2db)][_0x35c3bf(0x193)][0x4], _0xc674b7[_0x35c3bf(0x22e)][_0x35c3bf(0x2db)][_0x35c3bf(0x193)][0x5], _0xc674b7['kalman'][_0x35c3bf(0x2db)][_0x35c3bf(0x193)][0x6], 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0]), _0xc674b7['kalman']['kf']['statePost'][_0x35c3bf(0x2d2)](), _0xc674b7['kalman']['state']['copyTo'](_0xc674b7[_0x35c3bf(0x22e)]['kf'][_0x35c3bf(0x1d7)]), _0xc674b7['kalman']['hasPrediction'] = ![]; } [_0xbae8a(0x24b)](_0x21cc78, _0x37917b) { var _0x154f49 = _0xbae8a, _0x50ca1a = this[_0x154f49(0x2da)]['tracked'][_0x21cc78]; this[_0x154f49(0x1b4)](_0x50ca1a['kalman']['kf'], _0x37917b), _0x50ca1a[_0x154f49(0x22e)]['state'][_0x154f49(0x2d2)](), _0x50ca1a[_0x154f49(0x22e)][_0x154f49(0x18b)] = _0x50ca1a['kalman']['kf'][_0x154f49(0x208)](); var _0x5e5dd9 = cv[_0x154f49(0x21e)](0x3, 0x4, cv[_0x154f49(0x30e)], [_0x50ca1a[_0x154f49(0x22e)][_0x154f49(0x18b)][_0x154f49(0x193)][0x0], _0x50ca1a[_0x154f49(0x22e)][_0x154f49(0x18b)][_0x154f49(0x193)][0x1], _0x50ca1a['kalman'][_0x154f49(0x18b)][_0x154f49(0x193)][0x2]]), _0x4d4d36 = _0x50ca1a['kalman'][_0x154f49(0x18b)][_0x154f49(0x193)][0x9], _0x5da1c3 = _0x50ca1a[_0x154f49(0x22e)]['state'][_0x154f49(0x193)][0xa], _0x32a7ff = _0x50ca1a[_0x154f49(0x22e)][_0x154f49(0x18b)][_0x154f49(0x193)][0xb], _0x31f17a = _0x50ca1a[_0x154f49(0x22e)]['state'][_0x154f49(0x193)][0xc], _0xc2e354 = Math[_0x154f49(0x2f8)](_0x4d4d36 * _0x4d4d36 + _0x5da1c3 * _0x5da1c3 + _0x32a7ff * _0x32a7ff + _0x31f17a * _0x31f17a); _0x4d4d36 /= _0xc2e354, _0x5da1c3 /= _0xc2e354, _0x32a7ff /= _0xc2e354, _0x31f17a /= _0xc2e354; var _0x44b394 = cv[_0x154f49(0x21e)](0x3, 0x3, cv[_0x154f49(0x30e)], [_0x4d4d36 * _0x4d4d36 + _0x5da1c3 * _0x5da1c3 + _0x32a7ff * _0x32a7ff + _0x31f17a * _0x31f17a, 0x2 * (_0x5da1c3 * _0x32a7ff - _0x4d4d36 * _0x31f17a), 0x2 * (_0x5da1c3 * _0x31f17a + _0x4d4d36 * _0x32a7ff), 0x2 * (_0x5da1c3 * _0x32a7ff + _0x4d4d36 * _0x31f17a), _0x4d4d36 * _0x4d4d36 - _0x5da1c3 * _0x5da1c3 + _0x32a7ff * _0x32a7ff - _0x31f17a * _0x31f17a, 0x2 * (_0x32a7ff * _0x31f17a - _0x4d4d36 * _0x5da1c3), 0x2 * (_0x5da1c3 * _0x31f17a - _0x4d4d36 * _0x32a7ff), 0x2 * (_0x32a7ff * _0x31f17a + _0x4d4d36 * _0x5da1c3), _0x4d4d36 * _0x4d4d36 - _0x5da1c3 * _0x5da1c3 - _0x32a7ff * _0x32a7ff + _0x31f17a * _0x31f17a]); return { 'rotMat': _0x44b394, 'tvec': _0x5e5dd9 }; } [_0xbae8a(0x2f3)](_0x530413, _0x40242c) { var _0x46ce81 = _0xbae8a, _0x54983a = this['imageTargets'][_0x46ce81(0x2f5)][_0x530413], _0x31ffd0 = _0x40242c['tvec'], _0x45717f = _0x40242c['rotMat']['t'](), _0x245458 = _0x45717f['data32F'][0x0] + _0x45717f[_0x46ce81(0x193)][0x4] + _0x45717f[_0x46ce81(0x193)][0x8], _0x39cc55, _0x4854b7, _0x8eeaa2, _0x3a172f; if (_0x245458 > 0x0) { var _0x2774db = Math[_0x46ce81(0x2f8)](_0x245458 + 0x1) * 0x2; _0x39cc55 = 0.25 * _0x2774db, _0x4854b7 = (_0x45717f[_0x46ce81(0x193)][0x5] - _0x45717f[_0x46ce81(0x193)][0x7]) / _0x2774db, _0x8eeaa2 = (_0x45717f['data32F'][0x6] - _0x45717f[_0x46ce81(0x193)][0x2]) / _0x2774db, _0x3a172f = (_0x45717f[_0x46ce81(0x193)][0x1] - _0x45717f[_0x46ce81(0x193)][0x3]) / _0x2774db; } else { if (_0x45717f[_0x46ce81(0x193)][0x0] > _0x45717f[_0x46ce81(0x193)][0x4] & _0x45717f['data32F'][0x0] > _0x45717f[_0x46ce81(0x193)][0x8]) { var _0x2774db = Math[_0x46ce81(0x2f8)](0x1 + _0x45717f[_0x46ce81(0x193)][0x0] - _0x45717f[_0x46ce81(0x193)][0x4] - _0x45717f[_0x46ce81(0x193)][0x8]) * 0x2; _0x39cc55 = (_0x45717f[_0x46ce81(0x193)][0x5] - _0x45717f[_0x46ce81(0x193)][0x7]) / _0x2774db, _0x4854b7 = 0.25 * _0x2774db, _0x8eeaa2 = (_0x45717f['data32F'][0x3] + _0x45717f[_0x46ce81(0x193)][0x1]) / _0x2774db, _0x3a172f = (_0x45717f[_0x46ce81(0x193)][0x6] + _0x45717f[_0x46ce81(0x193)][0x2]) / _0x2774db; } else { if (_0x45717f[_0x46ce81(0x193)][0x4] > _0x45717f[_0x46ce81(0x193)][0x8]) { var _0x2774db = Math['sqrt'](0x1 + _0x45717f[_0x46ce81(0x193)][0x4] - _0x45717f[_0x46ce81(0x193)][0x0] - _0x45717f[_0x46ce81(0x193)][0x8]) * 0x2; _0x39cc55 = (_0x45717f[_0x46ce81(0x193)][0x6] - _0x45717f['data32F'][0x2]) / _0x2774db, _0x4854b7 = (_0x45717f[_0x46ce81(0x193)][0x3] + _0x45717f[_0x46ce81(0x193)][0x1]) / _0x2774db, _0x8eeaa2 = 0.25 * _0x2774db, _0x3a172f = (_0x45717f[_0x46ce81(0x193)][0x7] + _0x45717f[_0x46ce81(0x193)][0x5]) / _0x2774db; } else { var _0x2774db = Math[_0x46ce81(0x2f8)](0x1 + _0x45717f['data32F'][0x8] - _0x45717f[_0x46ce81(0x193)][0x0] - _0x45717f[_0x46ce81(0x193)][0x4]) * 0x2; _0x39cc55 = (_0x45717f['data32F'][0x1] - _0x45717f[_0x46ce81(0x193)][0x3]) / _0x2774db, _0x4854b7 = (_0x45717f[_0x46ce81(0x193)][0x6] + _0x45717f['data32F'][0x2]) / _0x2774db, _0x8eeaa2 = (_0x45717f[_0x46ce81(0x193)][0x7] + _0x45717f['data32F'][0x5]) / _0x2774db, _0x3a172f = 0.25 * _0x2774db; } } } if (this[_0x46ce81(0x2fb)]) { var _0x1e5423 = this[_0x46ce81(0x2fb)] - _0x39cc55, _0x53bb96 = this[_0x46ce81(0x1d6)] - _0x4854b7, _0x142282 = this[_0x46ce81(0x2a4)] - _0x8eeaa2, _0x4ba68b = this['lastk'] - _0x3a172f; (_0x1e5423 * _0x1e5423 > 0x1 || _0x53bb96 * _0x53bb96 > 0x1 || _0x142282 * _0x142282 > 0x1 || _0x4ba68b * _0x4ba68b > 0x1) && (_0x39cc55 *= -0x1, _0x4854b7 *= -0x1, _0x8eeaa2 *= -0x1, _0x3a172f *= -0x1); } this[_0x46ce81(0x2fb)] = _0x39cc55, this[_0x46ce81(0x1d6)] = _0x4854b7, this[_0x46ce81(0x2a4)] = _0x8eeaa2, this[_0x46ce81(0x223)] = _0x3a172f, !_0x54983a[_0x46ce81(0x22e)][_0x46ce81(0x1de)] && (_0x54983a[_0x46ce81(0x22e)]['state'][_0x46ce81(0x2d2)](), _0x54983a['kalman'][_0x46ce81(0x18b)] = cv['matFromArray'](0x15, 0x1, cv[_0x46ce81(0x30e)], [_0x31ffd0[_0x46ce81(0x193)][0x0], _0x31ffd0[_0x46ce81(0x193)][0x1], _0x31ffd0['data32F'][0x2], 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x39cc55, _0x4854b7, _0x8eeaa2, _0x3a172f, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0]), _0x54983a['kalman']['kf']['statePre'][_0x46ce81(0x2d2)](), _0x54983a[_0x46ce81(0x22e)][_0x46ce81(0x18b)][_0x46ce81(0x231)](_0x54983a[_0x46ce81(0x22e)]['kf'][_0x46ce81(0x203)]), _0x54983a[_0x46ce81(0x22e)]['kf'][_0x46ce81(0x1d7)][_0x46ce81(0x2d2)](), _0x54983a[_0x46ce81(0x22e)]['state']['copyTo'](_0x54983a['kalman']['kf'][_0x46ce81(0x1d7)])), _0x54983a[_0x46ce81(0x22e)][_0x46ce81(0x2db)][_0x46ce81(0x193)][0x0] = _0x31ffd0[_0x46ce81(0x193)][0x0], _0x54983a[_0x46ce81(0x22e)]['meas'][_0x46ce81(0x193)][0x1] = _0x31ffd0[_0x46ce81(0x193)][0x1], _0x54983a[_0x46ce81(0x22e)][_0x46ce81(0x2db)][_0x46ce81(0x193)][0x2] = _0x31ffd0[_0x46ce81(0x193)][0x2], _0x54983a['kalman'][_0x46ce81(0x2db)][_0x46ce81(0x193)][0x3] = _0x39cc55, _0x54983a[_0x46ce81(0x22e)][_0x46ce81(0x2db)][_0x46ce81(0x193)][0x4] = _0x4854b7, _0x54983a[_0x46ce81(0x22e)][_0x46ce81(0x2db)][_0x46ce81(0x193)][0x5] = _0x8eeaa2, _0x54983a['kalman'][_0x46ce81(0x2db)]['data32F'][0x6] = _0x3a172f, _0x54983a[_0x46ce81(0x22e)]['kf'][_0x46ce81(0x241)](_0x54983a[_0x46ce81(0x22e)][_0x46ce81(0x2db)]), _0x54983a[_0x46ce81(0x22e)]['hasPrediction'] = !![]; } [_0xbae8a(0x1d2)](_0xe7f8d6) { var _0x643861 = _0xbae8a, _0x54ab32 = this[_0x643861(0x216)], _0x534c47 = this[_0x643861(0x1aa)], _0x3dd7a2 = this['KALMAN_PROC_NOISE_ACC'], _0xd66cbe = this[_0x643861(0x190)], _0x4a9c7b = this[_0x643861(0x27c)], _0x2f8d44 = this[_0x643861(0x24e)], _0x3875ed = cv[_0x643861(0x21e)](0x15, 0x15, cv[_0x643861(0x30e)], [_0x54ab32, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x54ab32, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x54ab32, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x534c47, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x534c47, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x534c47, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x3dd7a2, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x3dd7a2, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x3dd7a2, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0xd66cbe, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0xd66cbe, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0xd66cbe, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0xd66cbe, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x4a9c7b, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x4a9c7b, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x4a9c7b, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x4a9c7b, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x2f8d44, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x2f8d44, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x2f8d44, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x2f8d44]); _0x3875ed[_0x643861(0x231)](_0xe7f8d6), _0x3875ed[_0x643861(0x2d2)](); } [_0xbae8a(0x2e1)](_0x260807) { var _0x1d64db = _0xbae8a, _0x233be8 = this[_0x1d64db(0x23c)], _0x2879e1 = this[_0x1d64db(0x2f2)], _0x3dad2e = cv[_0x1d64db(0x21e)](0x7, 0x7, cv[_0x1d64db(0x30e)], [_0x233be8, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x233be8, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x233be8, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x2879e1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x2879e1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x2879e1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, _0x2879e1]); _0x3dad2e[_0x1d64db(0x231)](_0x260807), _0x3dad2e[_0x1d64db(0x2d2)](); } [_0xbae8a(0x1b3)]() { var _0x4879c0 = _0xbae8a; console[_0x4879c0(0x22d)]('(' + this[_0x4879c0(0x23c)] + ',' + this[_0x4879c0(0x2f2)] + ')'); } [_0xbae8a(0x2e9)](_0x5b886c, _0x516d59) { var _0x4772a1 = _0xbae8a; this[_0x4772a1(0x23c)] = _0x5b886c, this[_0x4772a1(0x2f2)] = _0x516d59; var _0x2f9b39 = Object[_0x4772a1(0x2e3)](this[_0x4772a1(0x2da)]['untracked']); _0x2f9b39[_0x4772a1(0x1f4)](_0x3463b5 => { var _0x36fadb = _0x4772a1, _0x28fbcb = this[_0x36fadb(0x2da)][_0x36fadb(0x219)][_0x3463b5]; this[_0x36fadb(0x2e1)](_0x28fbcb['kalman']['kf']['measurementNoiseCov']); }); } [_0xbae8a(0x1b4)](_0xcc64e1, _0x445cf8) { var _0x275614 = _0xbae8a, _0x1d1724 = 0.5 * _0x445cf8 * _0x445cf8; _0xcc64e1[_0x275614(0x1be)]['data32F'][0x3] = _0x445cf8, _0xcc64e1[_0x275614(0x1be)]['data32F'][0x19] = _0x445cf8, _0xcc64e1[_0x275614(0x1be)][_0x275614(0x193)][0x2f] = _0x445cf8, _0xcc64e1[_0x275614(0x1be)][_0x275614(0x193)][0x45] = _0x445cf8, _0xcc64e1[_0x275614(0x1be)][_0x275614(0x193)][0x5b] = _0x445cf8, _0xcc64e1[_0x275614(0x1be)][_0x275614(0x193)][0x71] = _0x445cf8, _0xcc64e1[_0x275614(0x1be)][_0x275614(0x193)][0xca] = _0x445cf8, _0xcc64e1[_0x275614(0x1be)]['data32F'][0xe0] = _0x445cf8, _0xcc64e1['transitionMatrix'][_0x275614(0x193)][0xf6] = _0x445cf8, _0xcc64e1[_0x275614(0x1be)]['data32F'][0x10c] = _0x445cf8, _0xcc64e1[_0x275614(0x1be)]['data32F'][0x122] = _0x445cf8, _0xcc64e1[_0x275614(0x1be)][_0x275614(0x193)][0x138] = _0x445cf8, _0xcc64e1[_0x275614(0x1be)][_0x275614(0x193)][0x14e] = _0x445cf8, _0xcc64e1[_0x275614(0x1be)][_0x275614(0x193)][0x164] = _0x445cf8, _0xcc64e1[_0x275614(0x1be)][_0x275614(0x193)][0x6] = _0x1d1724, _0xcc64e1[_0x275614(0x1be)][_0x275614(0x193)][0x1c] = _0x1d1724, _0xcc64e1[_0x275614(0x1be)][_0x275614(0x193)][0x32] = _0x1d1724, _0xcc64e1['transitionMatrix']['data32F'][0xce] = _0x1d1724, _0xcc64e1['transitionMatrix'][_0x275614(0x193)][0xe4] = _0x1d1724, _0xcc64e1['transitionMatrix'][_0x275614(0x193)][0xfa] = _0x1d1724, _0xcc64e1['transitionMatrix'][_0x275614(0x193)][0x110] = _0x1d1724; } [_0xbae8a(0x291)](_0xc8e73c, _0x40706a) { var _0x218d3f = _0xbae8a, _0x299cb7 = [], _0x10cc35 = 0x1, _0x3349f3 = 0x0, _0x1c4b8c = 0x1, _0x541629 = 0x0; for (var _0x15fd39 = 0x0; _0x15fd39 < _0x40706a['matches']['size'](); _0x15fd39++) { var _0x333694 = _0x40706a[_0x218d3f(0x1c1)][_0x218d3f(0x206)](_0x15fd39); _0x299cb7['push'](_0x333694[_0x218d3f(0x1e8)]); var _0x280d49 = _0x40706a['matches'][_0x218d3f(0x207)](), _0x2134aa = _0x40706a[_0x218d3f(0x204)][_0x218d3f(0x207)]()['width'], _0x25a542 = _0x40706a['gray'][_0x218d3f(0x207)]()[_0x218d3f(0x1cf)], _0x1be0e0 = _0x40706a['kp'][_0x218d3f(0x206)](_0x333694[_0x218d3f(0x1e8)])['pt']['x'] / _0x2134aa, _0x5a1e01 = _0x40706a['kp']['get'](_0x333694[_0x218d3f(0x1e8)])['pt']['y'] / _0x25a542; if (_0x1be0e0 < _0x10cc35) _0x10cc35 = _0x1be0e0; else { if (_0x1be0e0 > _0x3349f3) _0x3349f3 = _0x1be0e0; } if (_0x5a1e01 < _0x1c4b8c) _0x1c4b8c = _0x5a1e01; else { if (_0x5a1e01 > _0x541629) _0x541629 = _0x5a1e01; } } var _0xce2c84 = (_0x3349f3 - _0x10cc35) * (_0x541629 - _0x1c4b8c); (!_0x40706a[_0x218d3f(0x296)] || _0xce2c84 > _0x40706a[_0x218d3f(0x296)]) && (_0x40706a['bestCoverage'] = _0xce2c84, _0x40706a[_0x218d3f(0x2f6)] = _0x299cb7); if (_0x40706a[_0x218d3f(0x21a)]) { var _0x1a00e6 = _0x40706a[_0x218d3f(0x21a)]['x'] > 0x0, _0x33883b = _0x40706a[_0x218d3f(0x21a)]['x'] + _0x40706a[_0x218d3f(0x21a)][_0x218d3f(0x2ca)] < _0xc8e73c['size']()[_0x218d3f(0x2ca)], _0x3d9dcf = _0x40706a[_0x218d3f(0x21a)]['y'] > 0x0, _0x50d6ea = _0x40706a[_0x218d3f(0x21a)]['y'] + _0x40706a['roi'][_0x218d3f(0x1cf)] < _0xc8e73c[_0x218d3f(0x207)]()[_0x218d3f(0x1cf)]; if (_0xce2c84 < 0.5 * _0x40706a['coverage'] && (_0x1a00e6 && _0x33883b && _0x3d9dcf && _0x50d6ea)) { if (_0x40706a['bestCoverage'] && _0x40706a[_0x218d3f(0x296)] > _0xce2c84) { var _0x27699d = 0x0; _0x40706a[_0x218d3f(0x1c1)][_0x218d3f(0x2d2)](), _0x40706a[_0x218d3f(0x1c1)] = new cv[(_0x218d3f(0x19c))](); for (var _0x15fd39 = 0x0; _0x15fd39 < _0x40706a[_0x218d3f(0x2f6)][_0x218d3f(0x2b6)]; _0x15fd39++) { var _0x333694 = { 'distance': 0x64, 'imgIdx': 0x0, 'queryIdx': 0x0, 'trainIdx': _0x40706a[_0x218d3f(0x2f6)][_0x15fd39] }; _0x40706a[_0x218d3f(0x1c1)][_0x218d3f(0x2d6)](_0x333694), _0x27699d++; } return; } } } var _0x27699d = 0x0; while (_0x40706a[_0x218d3f(0x1c1)][_0x218d3f(0x207)]() < this[_0x218d3f(0x2e8)] && _0x40706a[_0x218d3f(0x1c1)][_0x218d3f(0x207)]() < _0x40706a['kp']['size']()) { var _0xe1deb0 = this[_0x218d3f(0x1ce)](0x0, _0x40706a['kp']['size']() - 0x1); if (_0x299cb7[_0x218d3f(0x1e3)](_0xe1deb0)) continue; var _0x333694 = { 'distance': 0x64, 'imgIdx': 0x0, 'queryIdx': 0x0, 'trainIdx': _0xe1deb0 }; _0x40706a[_0x218d3f(0x1c1)][_0x218d3f(0x2d6)](_0x333694), _0x27699d++; } return; } [_0xbae8a(0x2c3)](_0x3035ec) { var _0x4b3b77 = _0xbae8a; console[_0x4b3b77(0x22d)](_0x4b3b77(0x209) + _0x3035ec), window['unityInstance'][_0x4b3b77(0x255)](this['TRACKER_NAME'], _0x4b3b77(0x24a), _0x3035ec); } [_0xbae8a(0x1cb)](_0x3bad6a) { var _0x2bf774 = _0xbae8a; console[_0x2bf774(0x22d)]('unityTargetLost\x20' + _0x3bad6a), window[_0x2bf774(0x2cd)][_0x2bf774(0x255)](this[_0x2bf774(0x1d0)], _0x2bf774(0x23d), _0x3bad6a); } [_0xbae8a(0x2f0)](_0x232dfc, _0xc1d355) { var _0x38b27c = _0xbae8a, _0x45c688 = new cv[(_0x38b27c(0x191))](), _0x1062c9 = new cv[(_0x38b27c(0x191))](); _0xc1d355[_0x38b27c(0x2d5)][_0x38b27c(0x231)](_0x45c688), _0xc1d355[_0x38b27c(0x308)][_0x38b27c(0x231)](_0x1062c9), _0x45c688[_0x38b27c(0x193)][0x1] *= -0x1, _0x1062c9 = _0x1062c9['t'](); var _0x4238b1 = [0x1, 0x0, 0x0, 0x0, -0x1, 0x0, 0x0, 0x0, 0x1]; _0x4238b1 = cv[_0x38b27c(0x21e)](0x3, 0x3, cv[_0x38b27c(0x30e)], _0x4238b1), cv[_0x38b27c(0x267)](_0x4238b1, _0x1062c9, 0x1, _0x1062c9, 0x0, _0x1062c9, 0x0), cv[_0x38b27c(0x267)](_0x1062c9, _0x4238b1, 0x1, _0x1062c9, 0x0, _0x1062c9, 0x0), _0x4238b1[_0x38b27c(0x2d2)](); var _0x21f586 = [0x0, 0x0, -0x1, 0x0, -0x1, 0x0, -0x1, 0x0, 0x0]; _0x21f586 = cv[_0x38b27c(0x21e)](0x3, 0x3, cv['CV_32F'], _0x21f586), cv['gemm'](_0x21f586, _0x1062c9, 0x1, _0x1062c9, 0x0, _0x1062c9, 0x0), _0x21f586['delete'](); var _0xd40e4a = _0x232dfc + ',' + _0x45c688[_0x38b27c(0x193)][0x0] + ',' + _0x45c688[_0x38b27c(0x193)][0x1] + ',' + _0x45c688['data32F'][0x2] + ',' + _0x1062c9[_0x38b27c(0x193)][0x0] + ',' + _0x1062c9[_0x38b27c(0x193)][0x1] + ',' + _0x1062c9[_0x38b27c(0x193)][0x2] + ',' + _0x1062c9[_0x38b27c(0x193)][0x3] + ',' + _0x1062c9[_0x38b27c(0x193)][0x4] + ',' + _0x1062c9[_0x38b27c(0x193)][0x5] + ',' + _0x1062c9[_0x38b27c(0x193)][0x6] + ',' + _0x1062c9[_0x38b27c(0x193)][0x7] + ',' + _0x1062c9[_0x38b27c(0x193)][0x8] + ','; _0x45c688[_0x38b27c(0x2d2)](), _0x1062c9[_0x38b27c(0x2d2)](), window['unityInstance'][_0x38b27c(0x255)](this[_0x38b27c(0x1d0)], _0x38b27c(0x1d3), _0xd40e4a); } ['unitySetFov']() { var _0x4b6049 = _0xbae8a; if (!tracker['CANVAS_WIDTH']) return; var _0x14d4d9 = document[_0x4b6049(0x1f1)]('videoBackground')[_0x4b6049(0x306)](); console[_0x4b6049(0x22d)](_0x14d4d9[_0x4b6049(0x2ca)] + 'x' + _0x14d4d9[_0x4b6049(0x1cf)], window[_0x4b6049(0x299)] + 'x' + window['innerHeight']); var _0x4e41bb = tracker[_0x4b6049(0x2fe)], _0x47ed41 = window[_0x4b6049(0x299)], _0x348387 = window[_0x4b6049(0x30a)], _0x953518 = _0x47ed41 / _0x348387; console[_0x4b6049(0x22d)]('ar', _0x953518, 'var', tracker[_0x4b6049(0x2fe)]); if (_0x953518 > _0x4e41bb) { document[_0x4b6049(0x1ff)][_0x4b6049(0x2b3)]['height'] = window[_0x4b6049(0x30a)] + 'px'; var _0x2b642f = document[_0x4b6049(0x1f1)](_0x4b6049(0x310))[_0x4b6049(0x306)]()[_0x4b6049(0x1cf)]; _0x4e41bb *= _0x14d4d9['height'] / _0x2b642f, console[_0x4b6049(0x22d)]('bleed\x20vertical'); } else document['body']['style'][_0x4b6049(0x1cf)] = _0x4b6049(0x1b6), console['log'](_0x4b6049(0x2b2)); var _0x46acc6 = 0.5 * tracker[_0x4b6049(0x28e)] / _0x4e41bb, _0x2d48d7 = tracker[_0x4b6049(0x28e)], _0x5d0ea6 = 0x2 * Math[_0x4b6049(0x2dc)](_0x46acc6 / _0x2d48d7) * 0xb4 / Math['PI']; this[_0x4b6049(0x1b7)] = _0x5d0ea6, console[_0x4b6049(0x22d)](_0x4b6049(0x25b) + _0x5d0ea6), window[_0x4b6049(0x2cd)][_0x4b6049(0x255)](this['TRACKER_NAME'], _0x4b6049(0x1c9), _0x5d0ea6); } ['debugShow'](_0xfd9869, _0x3262fe) { var _0x4de1af = _0xbae8a, _0x87a1f1 = 0.5, _0x2d36a5 = document[_0x4de1af(0x1f1)](_0x3262fe); if (!_0x2d36a5) { _0x2d36a5 = document['createElement'](_0x4de1af(0x2ed)), _0x2d36a5['id'] = _0x3262fe, document[_0x4de1af(0x1ff)]['appendChild'](_0x2d36a5); if (!this[_0x4de1af(0x20d)]) this[_0x4de1af(0x20d)] = []; this[_0x4de1af(0x20d)][_0x4de1af(0x28a)](_0x3262fe), _0x2d36a5[_0x4de1af(0x2b3)][_0x4de1af(0x1a1)] = _0x4de1af(0x2be), _0x2d36a5[_0x4de1af(0x2b3)][_0x4de1af(0x270)] = 0x0, _0x2d36a5[_0x4de1af(0x2b3)]['left'] = 0x0, _0x2d36a5[_0x4de1af(0x2b3)][_0x4de1af(0x261)] = 'translate(-25%,-25%)\x20scale(' + _0x87a1f1 + ')'; } cv['imshow'](_0x3262fe, _0xfd9869); var _0x311386 = this[_0x4de1af(0x20d)]['indexOf'](_0x3262fe); _0x311386 != -0x1 && (_0x2d36a5['style']['left'] = _0x311386 * _0xfd9869['size']()[_0x4de1af(0x2ca)] * _0x87a1f1 + 'px'); } [_0xbae8a(0x1d1)](_0x1f6c9a) { var _0x23851e = _0xbae8a, _0x51bb5c = document[_0x23851e(0x1f1)](_0x1f6c9a); if (_0x51bb5c) { _0x51bb5c[_0x23851e(0x2f7)](); var _0x22d40d = this[_0x23851e(0x20d)][_0x23851e(0x1e6)](_0x1f6c9a); _0x22d40d !== -0x1 && this[_0x23851e(0x20d)][_0x23851e(0x303)](_0x22d40d, 0x1); } } [_0xbae8a(0x238)](_0xf6a033, _0x2bb7e2) { var _0x47e148 = _0xbae8a; if (!this[_0x47e148(0x2ea)]) this['debugImages'] = {}; this[_0x47e148(0x2ea)][_0x2bb7e2] = _0xf6a033; } [_0xbae8a(0x22b)](_0x276ece) { var _0x46bc79 = _0xbae8a; if (this['debugImages'] && this[_0x46bc79(0x2ea)][_0x276ece]) return this['debugImages'][_0x276ece]; else return; } [_0xbae8a(0x272)](_0x2264cb) { var _0x781fcf = _0xbae8a; this[_0x781fcf(0x2ea)] && this[_0x781fcf(0x2ea)][_0x2264cb] && (this[_0x781fcf(0x2ea)][_0x2264cb][_0x781fcf(0x2d2)](), this['debugImages'][_0x2264cb] = null); } [_0xbae8a(0x1ce)](_0x4390fe, _0x4b9ae7) { return Math['floor'](Math['random']() * (_0x4b9ae7 - _0x4390fe + 0x1) + _0x4390fe); } ['showDebugMode']() { var _0x420c92 = _0xbae8a, _0x8e5b4f = document[_0x420c92(0x19d)](_0x420c92(0x2b8)); _0x8e5b4f['id'] = _0x420c92(0x2ec), document['body']['appendChild'](_0x8e5b4f), _0x8e5b4f['style'][_0x420c92(0x286)] = _0x420c92(0x201), _0x8e5b4f[_0x420c92(0x2b3)]['bottom'] = _0x420c92(0x201), _0x8e5b4f[_0x420c92(0x2b3)][_0x420c92(0x266)] = _0x420c92(0x2ac), _0x8e5b4f[_0x420c92(0x2b3)][_0x420c92(0x1a1)] = _0x420c92(0x2be), this[_0x420c92(0x1cd)]('Detectability', _0x420c92(0x2d7), 0x5dc0, 0x13880, _0x8e5b4f, 0x3e8), this[_0x420c92(0x1cd)](_0x420c92(0x26f), _0x420c92(0x2e8), 0x10, 0x3c, _0x8e5b4f, 0x1), this[_0x420c92(0x1cd)](_0x420c92(0x2d9), _0x420c92(0x2a1), 0.001, 0.1, _0x8e5b4f, 0.001, 'setPoseFactorsInternal'), this[_0x420c92(0x1cd)]('Smoooth\x20Threshold\x20(Rot)', 'KALMAN_POSE_ROT_FACTOR', 0.001, 0.1, _0x8e5b4f, 0.001, _0x420c92(0x27f)), this[_0x420c92(0x1cd)]('Smoooth\x20Strength\x20(Pos)', _0x420c92(0x23c), 0.05, 0x2, _0x8e5b4f, 0.05), this[_0x420c92(0x1cd)](_0x420c92(0x1c8), _0x420c92(0x23c), 0.05, 0x2, _0x8e5b4f, 0.05), this[_0x420c92(0x1cd)](_0x420c92(0x1ae), _0x420c92(0x1a2), 0.001, 0.1, _0x8e5b4f, 0.001, _0x420c92(0x27f)), this[_0x420c92(0x1cd)](_0x420c92(0x1dc), _0x420c92(0x304), 0.001, 0.1, _0x8e5b4f, 0.001, _0x420c92(0x27f)); var _0x1b98c4 = document['createElement'](_0x420c92(0x1eb)); _0x1b98c4[_0x420c92(0x2bb)] = _0x420c92(0x28f), _0x1b98c4[_0x420c92(0x26e)] = () => { var _0x27940c = _0x420c92, _0x7243a8 = Object['keys'](this['debugSliders']); _0x7243a8[_0x27940c(0x1f4)](_0x347c23 => { var _0x55b6bb = _0x27940c; this['debugSliders'][_0x347c23][_0x55b6bb(0x297)][_0x55b6bb(0x195)] = tracker[_0x347c23], this[_0x55b6bb(0x2ec)][_0x347c23][_0x55b6bb(0x19f)]['innerHTML'] = tracker[_0x347c23]; }); }, _0x8e5b4f[_0x420c92(0x1ad)](_0x1b98c4); } [_0xbae8a(0x1cd)](_0x5ab4c7, _0x345a42, _0x37c7d8, _0x3597ff, _0x19982a, _0x49fc2 = 0.1, _0x1c553f) { var _0x1b95d6 = _0xbae8a, _0x4fb005 = document[_0x1b95d6(0x19d)]('tr'); _0x19982a['appendChild'](_0x4fb005); var _0x529ca3 = tracker[_0x345a42], _0x4bb17f = document['createElement']('td'); _0x4bb17f[_0x1b95d6(0x2bb)] = _0x5ab4c7, _0x4bb17f[_0x1b95d6(0x2b3)][_0x1b95d6(0x256)] = _0x1b95d6(0x22c), _0x4fb005['appendChild'](_0x4bb17f); var _0x450180 = document['createElement'](_0x1b95d6(0x230)); _0x450180['id'] = _0x5ab4c7, _0x450180[_0x1b95d6(0x2c7)] = _0x1b95d6(0x197), _0x450180[_0x1b95d6(0x259)] = _0x49fc2, _0x450180[_0x1b95d6(0x212)] = _0x37c7d8, _0x450180[_0x1b95d6(0x1cc)] = _0x3597ff, _0x450180[_0x1b95d6(0x195)] = _0x529ca3, _0x450180[_0x1b95d6(0x2b3)]['marginTop'] = 0x0, _0x450180['style'][_0x1b95d6(0x2ae)] = 0x0, _0x450180['style'][_0x1b95d6(0x314)] = '10px', _0x450180[_0x1b95d6(0x2b3)][_0x1b95d6(0x2ca)] = _0x1b95d6(0x2fc), _0x450180[_0x1b95d6(0x1b9)] = () => { var _0x51fba4 = _0x1b95d6; tracker[_0x345a42] = _0x450180[_0x51fba4(0x195)], document['getElementById'](_0x51fba4(0x297) + _0x5ab4c7)[_0x51fba4(0x2bb)] = tracker[_0x51fba4(0x2a7)](_0x450180['value']), console['log']('tracker.' + _0x345a42 + _0x51fba4(0x293) + tracker[_0x345a42]), _0x1c553f && tracker[_0x1c553f](); }; var _0xb1ea66 = document['createElement']('td'); _0x4fb005['appendChild'](_0xb1ea66), _0xb1ea66[_0x1b95d6(0x1ad)](_0x450180); var _0x12333f = document['createElement']('td'); _0x12333f['id'] = 'slider' + _0x5ab4c7, _0x12333f[_0x1b95d6(0x2bb)] = _0x529ca3, _0x12333f[_0x1b95d6(0x2b3)][_0x1b95d6(0x256)] = _0x1b95d6(0x22c), _0x4fb005[_0x1b95d6(0x1ad)](_0x12333f); if (!this[_0x1b95d6(0x2ec)]) this['debugSliders'] = {}; this['debugSliders'][_0x345a42] = {}, this[_0x1b95d6(0x2ec)][_0x345a42][_0x1b95d6(0x297)] = _0x450180, this[_0x1b95d6(0x2ec)][_0x345a42][_0x1b95d6(0x19f)] = _0x12333f; } [_0xbae8a(0x2a7)](_0x566e4e) { var _0x26590d = _0xbae8a; return Math[_0x26590d(0x2a7)](_0x566e4e * 0x3e8) / 0x3e8; } };